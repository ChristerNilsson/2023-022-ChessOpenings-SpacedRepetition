// Generated by CoffeeScript 2.5.1
var link, undo,
  modulo = function(a, b) { return (+a % (b = +b) + b) % b; };

import {
  ass,
  log,
  range,
  split,
  param,
  hexToBase64,
  spaceShip
} from '../js/utils.js';

import {
  Button
} from '../js/button.js';

import _ from 'https://cdn.skypack.dev/lodash';

export var global = {
  //name : 'bishop',
  name: 'tree',
  arr: [],
  version: 'ver: B',
  board: null,
  child: 0, // move under consideration
  children: [], // sorted list of [value,san,uci]
  SIZE: 50, // of square
  pics: {}, // 12 pjäser
  // data:null,
  buttons: [],
  database: {}, // fen => value
  //currNode:null, # pekar in i ett träd
  //count: 0, # räknar antal nya drag i trädet
  stack: [] // innehåller aktuell gren
};

export var coords = (uci) => {
  var c0, c1, r0, r1;
  param.String(uci);
  c0 = "abcdefgh".indexOf(uci[0]);
  r0 = "12345678".indexOf(uci[1]);
  c1 = "abcdefgh".indexOf(uci[2]);
  r1 = "12345678".indexOf(uci[3]);
  return param.Array([c0 + 8 * r0, c1 + 8 * r1]);
};

ass([8, 24], coords("a2a4"));

export var toUCI = ([from, to]) => {
  var c0, c1, r0, r1;
  param.Integer(from);
  param.Integer(to);
  c0 = "abcdefgh"[from % 8];
  r0 = "12345678"[Math.floor(from / 8)];
  c1 = "abcdefgh"[to % 8];
  r1 = "12345678"[Math.floor(to / 8)];
  return param.String(c0 + r0 + c1 + r1);
};

ass("e2e4", toUCI([12, 28]));

export var toObjectNotation = ([from, to]) => {
  var uci;
  param.Integer(from);
  param.Integer(to);
  uci = toUCI([from, to]);
  from = uci.slice(0, 2);
  to = uci.slice(2, 4);
  return param.Object({from, to});
};

ass({
  from: 'e2',
  to: 'e4'
}, toObjectNotation([12, 28]));

export var empty = (n) => {
  param.Integer(n);
  return param.String((1 + Math.floor(n / 8)).toString());
};

undo = () => {
  if (global.stack.length === 0) {
    return;
  }
  global.chess.undo();
  return global.currNode = global.stack.pop();
};

// makeChildren()
export var dumpState = () => {
  console.log('STATE ########');
  console.log('  stack', global.stack);
  console.log('  currNode', global.currNode);
  return console.log('  history', global.chess.history());
};

link = () => {
  return 'https://lichess.org/analysis/' + global.chess.fen();
};

export var clickString = (key) => {
  var g, san, uci, value;
  param.String(key);
  g = global;
  if (key === 'flip') {
    return g.board.flip();
  } else if (key === 'link') {
    return window.open(link(), '_blank');
  } else if (key === 'up') {
    return g.child = modulo(g.child - 1, g.children.length);
  } else if (key === 'down') {
    return g.child = modulo(g.child + 1, g.children.length);
  } else if (key === 'undo') {
    return undo();
  } else if (key === 'left') {
    return undo();
  } else if (key === 'right') {
    console.log(g.children, g.child);
    [value, san, uci] = g.children[g.child];
    console.log('move', [value, san, uci]);
    g.chess.move(san);
    g.stack.push(g.currNode);
    g.currNode = g.currNode[uci];
    return makeChildren();
  } else if (key === 'save') {
    return download(g.tree, g.name + '.json');
  } else {
    // else if key == 'correct' then correctAnswer()
    // else if key == 'wrong' then wrongAnswer()
    return console.log('unknown key in clickString', key);
  }
};

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZ2xvYmFscy5qcyIsInNvdXJjZVJvb3QiOiIuLiIsInNvdXJjZXMiOlsiY29mZmVlXFxnbG9iYWxzLmNvZmZlZSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBQUEsSUFBQSxJQUFBLEVBQUEsSUFBQTtFQUFBOztBQUFBLE9BQUE7RUFBUSxHQUFSO0VBQVksR0FBWjtFQUFnQixLQUFoQjtFQUFzQixLQUF0QjtFQUE0QixLQUE1QjtFQUFrQyxXQUFsQztFQUE4QyxTQUE5QztDQUFBLE1BQUE7O0FBQ0EsT0FBQTtFQUFRLE1BQVI7Q0FBQSxNQUFBOztBQUNBLE9BQU8sQ0FBUCxNQUFBOztBQUVBLE9BQUEsSUFBTyxNQUFBLEdBQVMsQ0FBQTs7RUFHZixJQUFBLEVBQU8sTUFIUTtFQUlmLEdBQUEsRUFBTSxFQUpTO0VBTWYsT0FBQSxFQUFRLFFBTk87RUFPZixLQUFBLEVBQU0sSUFQUztFQVFmLEtBQUEsRUFBTSxDQVJTO0VBU2YsUUFBQSxFQUFVLEVBVEs7RUFVZixJQUFBLEVBQUssRUFWVTtFQVdmLElBQUEsRUFBSyxDQUFBLENBWFU7O0VBYWYsT0FBQSxFQUFRLEVBYk87RUFjZixRQUFBLEVBQVUsQ0FBQSxDQWRLOzs7RUFpQmYsS0FBQSxFQUFNLEVBakJTO0FBQUE7O0FBb0JoQixPQUFBLElBQU8sTUFBQSxHQUFTLENBQUMsR0FBRCxDQUFBLEdBQUE7QUFDaEIsTUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQTtFQUFDLEtBQUssQ0FBQyxNQUFOLENBQWEsR0FBYjtFQUNBLEVBQUEsR0FBSyxVQUFVLENBQUMsT0FBWCxDQUFtQixHQUFHLENBQUMsQ0FBRCxDQUF0QjtFQUNMLEVBQUEsR0FBSyxVQUFVLENBQUMsT0FBWCxDQUFtQixHQUFHLENBQUMsQ0FBRCxDQUF0QjtFQUNMLEVBQUEsR0FBSyxVQUFVLENBQUMsT0FBWCxDQUFtQixHQUFHLENBQUMsQ0FBRCxDQUF0QjtFQUNMLEVBQUEsR0FBSyxVQUFVLENBQUMsT0FBWCxDQUFtQixHQUFHLENB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QUFDLENBQUMsUUFBZjtJQUNBLENBQUMsQ0FBQyxRQUFGLEdBQWEsQ0FBQyxDQUFDLFFBQVEsQ0FBQyxHQUFEO1dBQ3ZCLFlBQUEsQ0FBQSxFQVBJO0dBQUEsTUFRQSxJQUFHLEdBQUEsS0FBTyxNQUFWO1dBQXNCLFFBQUEsQ0FBUyxDQUFDLENBQUMsSUFBWCxFQUFpQixDQUFDLENBQUMsSUFBRixHQUFTLE9BQTFCLEVBQXRCO0dBQUEsTUFBQTs7O1dBR0EsT0FBTyxDQUFDLEdBQVIsQ0FBWSw0QkFBWixFQUF5QyxHQUF6QyxFQUhBOztBQWpCZSIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7YXNzLGxvZyxyYW5nZSxzcGxpdCxwYXJhbSxoZXhUb0Jhc2U2NCxzcGFjZVNoaXB9IGZyb20gJy4uL2pzL3V0aWxzLmpzJ1xyXG5pbXBvcnQge0J1dHRvbn0gZnJvbSAnLi4vanMvYnV0dG9uLmpzJ1xyXG5pbXBvcnQgXyBmcm9tICdodHRwczovL2Nkbi5za3lwYWNrLmRldi9sb2Rhc2gnXHJcblxyXG5leHBvcnQgZ2xvYmFsID0ge1xyXG5cclxuXHQjbmFtZSA6ICdiaXNob3AnLFxyXG5cdG5hbWUgOiAndHJlZScsXHJcblx0YXJyIDogW10sXHJcblxyXG5cdHZlcnNpb246J3ZlcjogQicsXHJcblx0Ym9hcmQ6bnVsbCxcclxuXHRjaGlsZDowLCAjIG1vdmUgdW5kZXIgY29uc2lkZXJhdGlvblxyXG5cdGNoaWxkcmVuOiBbXSwgIyBzb3J0ZWQgbGlzdCBvZiBbdmFsdWUsc2FuLHVjaV1cclxuXHRTSVpFOjUwLCAjIG9mIHNxdWFyZVxyXG5cdHBpY3M6e30sICMgMTIgcGrDpHNlclxyXG5cdCMgZGF0YTpudWxsLFxyXG5cdGJ1dHRvbnM6W10sXHJcblx0ZGF0YWJhc2U6IHt9LCAjIGZlbiA9PiB2YWx1ZVxyXG5cdCNjdXJyTm9kZTpudWxsLCAjIHBla2FyIGluIGkgZXR0IHRyw6RkXHJcblx0I2NvdW50OiAwLCAjIHLDpGtuYXIgYW50YWwgbnlhIGRyYWcgaSB0csOkZGV0XHJcblx0c3RhY2s6W10gIyBpbm5laMOlbGxlciBha3R1ZWxsIGdyZW5cclxufVxyXG5cclxuZXhwb3J0IGNvb3JkcyA9ICh1Y2kpID0+XHJcblx0cGFyYW0uU3RyaW5nIHVjaVxyXG5cdGMwID0gXCJhYmNkZWZnaFwiLmluZGV4T2YgdWNpWzBdXHJcblx0cjAgPSBcIjEyMzQ1Njc4XCIuaW5kZXhPZiB1Y2lbMV1cclxuXHRjMSA9IFwiYWJjZGVmZ2hcIi5pbmRleE9mIHVjaVsyXVxyXG5cdHIxID0gXCIxMjM0NTY3OFwiLmluZGV4T2YgdWNpWzNdXHJcblx0cGFyYW0uQXJyYXkgW2MwKzgqcjAsIGMxKzgqcjFdXHJcbmFzcyBbOCwyNF0sIGNvb3JkcyBcImEyYTRcIlxyXG5cclxuZXhwb3J0IHRvVUNJID0gKFtmcm9tLHRvXSkgPT5cclxuXHRwYXJhbS5JbnRlZ2VyIGZyb21cclxuXHRwYXJhbS5JbnRlZ2VyIHRvXHJcblx0YzAgPSBcImFiY2RlZmdoXCJbZnJvbSU4XVxyXG5cdHIwID0gXCIxMjM0NTY3OFwiW2Zyb20vLzhdXHJcblx0YzEgPSBcImFiY2RlZmdoXCJbdG8lOF1cclxuXHRyMSA9IFwiMTIzNDU2NzhcIlt0by8vOF1cclxuXHRwYXJhbS5TdHJpbmcgYzArcjArYzErcjFcclxuYXNzIFwiZTJlNFwiLCB0b1VDSSBbMTIsMjhdXHJcblxyXG5leHBvcnQgdG9PYmplY3ROb3RhdGlvbiA9IChbZnJvbSx0b10pID0+XHJcblx0cGFyYW0uSW50ZWdlciBmcm9tXHJcblx0cGFyYW0uSW50ZWdlciB0b1xyXG5cdHVjaSA9IHRvVUNJIFtmcm9tLHRvXVxyXG5cdGZyb20gPSB1Y2kuc2xpY2UgMCwyXHJcblx0dG8gPSB1Y2kuc2xpY2UgMiw0XHJcblx0cGFyYW0uT2JqZWN0IHtmcm9tLCB0b31cclxuYXNzIHtmcm9tOidlMicsIHRvOidlNCd9LCB0b09iamVjdE5vdGF0aW9uIFsxMiwyOF1cclxuXHJcbmV4cG9ydCBlbXB0eSA9IChuKSA9PlxyXG5cdHBhcmFtLkludGVnZXIgblxyXG5cdHBhcmFtLlN0cmluZyAoMStuLy84KS50b1N0cmluZygpXHJcblxyXG51bmRvID0gPT4gXHJcblx0aWYgZ2xvYmFsLnN0YWNrLmxlbmd0aCA9PSAwIHRoZW4gcmV0dXJuXHJcblx0Z2xvYmFsLmNoZXNzLnVuZG8oKVxyXG5cdGdsb2JhbC5jdXJyTm9kZSA9IGdsb2JhbC5zdGFjay5wb3AoKVxyXG5cdCMgbWFrZUNoaWxkcmVuKClcclxuXHJcbmV4cG9ydCBkdW1wU3RhdGUgPSA9PlxyXG5cdGNvbnNvbGUubG9nICdTVEFURSAjIyMjIyMjIydcclxuXHRjb25zb2xlLmxvZyAnICBzdGFjaycsZ2xvYmFsLnN0YWNrXHJcblx0Y29uc29sZS5sb2cgJyAgY3Vyck5vZGUnLGdsb2JhbC5jdXJyTm9kZVxyXG5cdGNvbnNvbGUubG9nICcgIGhpc3RvcnknLGdsb2JhbC5jaGVzcy5oaXN0b3J5KClcclxuXHJcbmxpbmsgPSA9PiAnaHR0cHM6Ly9saWNoZXNzLm9yZy9hbmFseXNpcy8nICsgZ2xvYmFsLmNoZXNzLmZlbigpXHJcblxyXG5cclxuZXhwb3J0IGNsaWNrU3RyaW5nID0gKGtleSkgPT5cclxuXHRwYXJhbS5TdHJpbmcga2V5XHJcblx0ZyA9IGdsb2JhbFxyXG5cdGlmIGtleSA9PSAnZmxpcCcgdGhlbiBnLmJvYXJkLmZsaXAoKVxyXG5cdGVsc2UgaWYga2V5ID09ICdsaW5rJyB0aGVuIHdpbmRvdy5vcGVuIGxpbmsoKSwgJ19ibGFuaydcclxuXHRlbHNlIGlmIGtleSA9PSAndXAnICAgdGhlbiBnLmNoaWxkID0gKGcuY2hpbGQtMSkgJSUgZy5jaGlsZHJlbi5sZW5ndGhcclxuXHRlbHNlIGlmIGtleSA9PSAnZG93bicgdGhlbiBnLmNoaWxkID0gKGcuY2hpbGQrMSkgJSUgZy5jaGlsZHJlbi5sZW5ndGhcclxuXHRlbHNlIGlmIGtleSA9PSAndW5kbycgdGhlbiB1bmRvKClcclxuXHRlbHNlIGlmIGtleSA9PSAnbGVmdCcgdGhlbiB1bmRvKClcclxuXHRlbHNlIGlmIGtleSA9PSAncmlnaHQnXHJcblx0XHRjb25zb2xlLmxvZyBnLmNoaWxkcmVuLGcuY2hpbGRcclxuXHRcdFt2YWx1ZSxzYW4sdWNpXSA9IGcuY2hpbGRyZW5bZy5jaGlsZF1cclxuXHRcdGNvbnNvbGUubG9nICdtb3ZlJyxbdmFsdWUsc2FuLHVjaV1cclxuXHRcdGcuY2hlc3MubW92ZSBzYW5cclxuXHRcdGcuc3RhY2sucHVzaCBnLmN1cnJOb2RlXHJcblx0XHRnLmN1cnJOb2RlID0gZy5jdXJyTm9kZVt1Y2ldXHJcblx0XHRtYWtlQ2hpbGRyZW4oKVxyXG5cdGVsc2UgaWYga2V5ID09ICdzYXZlJyB0aGVuIGRvd25sb2FkIGcudHJlZSwgZy5uYW1lICsgJy5qc29uJ1xyXG5cdCMgZWxzZSBpZiBrZXkgPT0gJ2NvcnJlY3QnIHRoZW4gY29ycmVjdEFuc3dlcigpXHJcblx0IyBlbHNlIGlmIGtleSA9PSAnd3JvbmcnIHRoZW4gd3JvbmdBbnN3ZXIoKVxyXG5cdGVsc2UgY29uc29sZS5sb2cgJ3Vua25vd24ga2V5IGluIGNsaWNrU3RyaW5nJyxrZXlcclxuIl19
//# sourceURL=c:\github\2023-022-ChessOpenings-SpacedRepetition\coffee\globals.coffee