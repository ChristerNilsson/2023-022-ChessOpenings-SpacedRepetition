// Generated by CoffeeScript 2.5.1
var SIZE,
  modulo = function(a, b) { return (+a % (b = +b) + b) % b; };

import _ from 'https://cdn.skypack.dev/lodash';

import {
  ass,
  lerp,
  param,
  range,
  hexToBase64
} from '../js/utils.js';

import {
  // import cryptoJs from 'https://cdn.skypack.dev/crypto-js'
  Square
} from '../js/square.js';

import {
  Button
} from '../js/button.js';

import {
  coords,
  clickString,
  global,
  toObjectNotation,
  toUCI
} from '../js/globals.js';

import {
  dumpState
} from '../js/globals.js';

SIZE = global.SIZE;

export var Board = class Board {
  constructor() {
    var i, k, len, ref, x0, x1, x2, x3;
    this.click = this.click.bind(this);
    this.draw = this.draw.bind(this);
    //push()
    //textAlign CENTER,CENTER

    //text global.version, 7.5*SIZE, 10*SIZE
    //textAlign RIGHT,CENTER

    // textSize 20
    // n = global.stack.length
    // if n == 0 then score = '0'
    // if n%2 == 0 then fill 'white' else fill 'black'
    // text 1+n//2, 9.4*SIZE, 0.3*SIZE

    //pop()
    // @showChildren()
    this.littera = this.littera.bind(this);
    this.flip = this.flip.bind(this);
    this.squares = [];
    this.clickedSquares = [];
    this.pieces = "";
    this.flipped = false;
    ref = range(64);
    for (k = 0, len = ref.length; k < len; k++) {
      i = ref[k];
      ((i) => {
        return this.squares.push(new Square(i, () => {
          return this.click(i);
        }));
      })(i);
    }
    this.buttons = [];
    x0 = 1.5;
    x1 = 3.5;
    x2 = 5.5;
    x3 = 7.5;
    this.buttons.push(new Button(x0 * SIZE, 9.5 * SIZE, 'correct', () => {
      return clickString('correct');
    }));
    this.buttons.push(new Button(x1 * SIZE, 9.5 * SIZE, 'wrong', () => {
      return clickString('wrong');
    }));
    this.buttons.push(new Button(x2 * SIZE, 9.5 * SIZE, 'link', () => {}));
    this.buttons.push(new Button(x3 * SIZE, 9.5 * SIZE, 'debug', () => {}));
  }

  click(i) {
    var col, color, g, move, row, sq, uci;
    g = global;
    col = modulo(i, 8);
    row = 7 - Math.floor(i / 8);
    sq = g.chess.board()[row][col];
    color = "wb"[modulo(g.chess.history().length, 2)];
    if (this.clickedSquares.length === 0) {
      if (sq !== null && sq.color === color) {
        return this.clickedSquares.push(i);
      }
    } else {
      if (i === this.clickedSquares[0]) {
        return this.clickedSquares = [];
      } else {
        this.clickedSquares.push(i);
        move = toObjectNotation(this.clickedSquares);
        uci = toUCI(this.clickedSquares);
        if (g.chess.move(move)) { // accepera draget
          g.stack.push(g.currNode);
          // console.log uci,global.currNode
          if (!(uci in g.currNode)) {
            g.currNode[uci] = {};
            g.count++;
          }
          g.currNode = g.currNode[uci];
        }
        return this.clickedSquares = [];
      }
    }
  }

  draw() {
    var button, i, j, k, l, len, len1, len2, m, piece, ref, ref1, ref2;
    this.buttons[3].text = global.count > 0 ? 'save ' + global.count : "";
    ref = this.buttons;
    for (k = 0, len = ref.length; k < len; k++) {
      button = ref[k];
      button.draw();
    }
    // if not global.tree then return
    fill('white');
    textSize(SIZE * 0.3);
    ref1 = range(8);
    //push()
    //textAlign LEFT,CENTER
    //text global.name,0.05*SIZE, 0.3*SIZE
    //pop()
    for (l = 0, len1 = ref1.length; l < len1; l++) {
      i = ref1[l];
      ref2 = range(8);
      for (m = 0, len2 = ref2.length; m < len2; m++) {
        j = ref2[m];
        piece = global.chess.board()[7 - i][j];
        this.squares[i * 8 + j].draw(piece, this.flipped, i * 8 + j === this.clickedSquares[0]);
      }
    }
    stroke('black');
    noFill();
    rect(SIZE * 4.5, SIZE * 4.5, SIZE * 8, SIZE * 8);
    return this.littera();
  }

  littera() {
    var digits, i, k, len, letters, ref, results;
    noStroke();
    fill('black');
    textSize(SIZE * 0.3);
    letters = this.flipped ? "hgfedcba" : "abcdefgh";
    digits = this.flipped ? "12345678" : "87654321";
    ref = range(8);
    results = [];
    for (k = 0, len = ref.length; k < len; k++) {
      i = ref[k];
      text(letters[i], SIZE * (i + 1), SIZE * 8.8);
      results.push(text(digits[i], SIZE * 0.15, SIZE * (i + 1)));
    }
    return results;
  }

  flip() {
    return this.flipped = !this.flipped;
  }

};

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYm9hcmQuanMiLCJzb3VyY2VSb290IjoiLi4iLCJzb3VyY2VzIjpbImNvZmZlZVxcYm9hcmQuY29mZmVlIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFBQSxJQUFBLElBQUE7RUFBQTs7QUFBQSxPQUFPLENBQVAsTUFBQTs7QUFDQSxPQUFBO0VBQVEsR0FBUjtFQUFZLElBQVo7RUFBaUIsS0FBakI7RUFBdUIsS0FBdkI7RUFBNkIsV0FBN0I7Q0FBQSxNQUFBOztBQUVBLE9BQUE7O0VBQVEsTUFBUjtDQUFBLE1BQUE7O0FBQ0EsT0FBQTtFQUFRLE1BQVI7Q0FBQSxNQUFBOztBQUNBLE9BQUE7RUFBUSxNQUFSO0VBQWUsV0FBZjtFQUEyQixNQUEzQjtFQUFrQyxnQkFBbEM7RUFBbUQsS0FBbkQ7Q0FBQSxNQUFBOztBQUNBLE9BQUE7RUFBUSxTQUFSO0NBQUEsTUFBQTs7QUFFQSxJQUFBLEdBQU8sTUFBTSxDQUFDOztBQUVkLE9BQUEsSUFBYSxRQUFOLE1BQUEsTUFBQTtFQUNOLFdBQWEsQ0FBQSxDQUFBO0FBQ2QsUUFBQSxDQUFBLEVBQUEsQ0FBQSxFQUFBLEdBQUEsRUFBQSxHQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUE7UUFpQkMsQ0FBQSxZQUFBLENBQUE7UUF5QkEsQ0FBQSxXQUFBLENBQUEsZ0JBMUNEOzs7Ozs7Ozs7Ozs7Ozs7UUFxRkMsQ0FBQSxjQUFBLENBQUE7UUFXQSxDQUFBLFdBQUEsQ0FBQTtJQWhHQyxJQUFDLENBQUEsT0FBRCxHQUFXO0lBQ1gsSUFBQyxDQUFBLGNBQUQsR0FBa0I7SUFDbEIsSUFBQyxDQUFBLE1BQUQsR0FBVTtJQUNWLElBQUMsQ0FBQSxPQUFELEdBQVc7QUFDWDtJQUFBLEtBQUEscUNBQUE7O01BQ0ksQ0FBQSxDQUFDLENBQUQsQ0FBQSxHQUFBO2VBQU8sSUFBQyxDQUFBLE9BQU8sQ0FBQyxJQUFULENBQWMsSUFBSSxNQUFKLENBQVcsQ0FBWCxFQUFjLENBQUEsQ0FBQSxHQUFBO2lCQUFHLElBQUMs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QUFBO0lBQ0EsSUFBQSxDQUFLLE9BQUw7SUFDQSxRQUFBLENBQVMsSUFBQSxHQUFLLEdBQWQ7SUFDQSxPQUFBLEdBQWEsSUFBQyxDQUFBLE9BQUosR0FBaUIsVUFBakIsR0FBaUM7SUFDM0MsTUFBQSxHQUFZLElBQUMsQ0FBQSxPQUFKLEdBQWtCLFVBQWxCLEdBQWtDO0FBRTNDO0FBQUE7SUFBQSxLQUFBLHFDQUFBOztNQUNDLElBQUEsQ0FBSyxPQUFPLENBQUMsQ0FBRCxDQUFaLEVBQWdCLElBQUEsR0FBSyxDQUFDLENBQUEsR0FBRSxDQUFILENBQXJCLEVBQTJCLElBQUEsR0FBSyxHQUFoQzttQkFDQSxJQUFBLENBQUssTUFBTSxDQUFDLENBQUQsQ0FBWCxFQUFlLElBQUEsR0FBSyxJQUFwQixFQUF5QixJQUFBLEdBQUssQ0FBQyxDQUFBLEdBQUUsQ0FBSCxDQUE5QjtJQUZELENBQUE7O0VBUFM7O0VBV1YsSUFBTyxDQUFBLENBQUE7V0FBRyxJQUFDLENBQUEsT0FBRCxHQUFXLENBQUksSUFBQyxDQUFBO0VBQW5COztBQWxHRCIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBfIGZyb20gJ2h0dHBzOi8vY2RuLnNreXBhY2suZGV2L2xvZGFzaCdcclxuaW1wb3J0IHthc3MsbGVycCxwYXJhbSxyYW5nZSxoZXhUb0Jhc2U2NH0gZnJvbSAnLi4vanMvdXRpbHMuanMnXHJcbiMgaW1wb3J0IGNyeXB0b0pzIGZyb20gJ2h0dHBzOi8vY2RuLnNreXBhY2suZGV2L2NyeXB0by1qcydcclxuaW1wb3J0IHtTcXVhcmV9IGZyb20gJy4uL2pzL3NxdWFyZS5qcydcclxuaW1wb3J0IHtCdXR0b259IGZyb20gJy4uL2pzL2J1dHRvbi5qcydcclxuaW1wb3J0IHtjb29yZHMsY2xpY2tTdHJpbmcsZ2xvYmFsLHRvT2JqZWN0Tm90YXRpb24sdG9VQ0l9IGZyb20gJy4uL2pzL2dsb2JhbHMuanMnXHJcbmltcG9ydCB7ZHVtcFN0YXRlfSBmcm9tICcuLi9qcy9nbG9iYWxzLmpzJ1xyXG5cclxuU0laRSA9IGdsb2JhbC5TSVpFXHJcblxyXG5leHBvcnQgY2xhc3MgQm9hcmRcclxuXHRjb25zdHJ1Y3RvcjogLT5cclxuXHRcdEBzcXVhcmVzID0gW11cclxuXHRcdEBjbGlja2VkU3F1YXJlcyA9IFtdXHJcblx0XHRAcGllY2VzID0gXCJcIlxyXG5cdFx0QGZsaXBwZWQgPSBmYWxzZVxyXG5cdFx0Zm9yIGkgaW4gcmFuZ2UgNjRcclxuXHRcdFx0ZG8gKGkpID0+IEBzcXVhcmVzLnB1c2ggbmV3IFNxdWFyZSBpLCA9PiBAY2xpY2sgaVxyXG5cclxuXHRcdEBidXR0b25zID0gW11cclxuXHRcdHgwID0gMS41XHJcblx0XHR4MSA9IDMuNVxyXG5cdFx0eDIgPSA1LjVcclxuXHRcdHgzID0gNy41XHJcblx0XHRAYnV0dG9ucy5wdXNoIG5ldyBCdXR0b24geDAqU0laRSwgOS41KlNJWkUsICdjb3JyZWN0JywgPT4gY2xpY2tTdHJpbmcgJ2NvcnJlY3QnXHJcblx0XHRAYnV0dG9ucy5wdXNoIG5ldyBCdXR0b24geDEqU0laRSwgOS41KlNJWkUsICd3cm9uZycsID0+IGNsaWNrU3RyaW5nICd3cm9uZydcclxuXHRcdEBidXR0b25zLnB1c2ggbmV3IEJ1dHRvbiB4MipTSVpFLCA5LjUqU0laRSwgJ2xpbmsnLCAgPT5cclxuXHRcdEBidXR0b25zLnB1c2ggbmV3IEJ1dHRvbiB4MypTSVpFLCA5LjUqU0laRSwgJ2RlYnVnJywgPT5cclxuXHJcblx0Y2xpY2sgOiAoaSkgPT5cclxuXHRcdGcgPSBnbG9iYWxcclxuXHRcdGNvbCA9IGkgJSUgOFxyXG5cdFx0cm93ID0gNy1pIC8vIDhcclxuXHRcdHNxID0gZy5jaGVzcy5ib2FyZCgpW3Jvd11bY29sXVxyXG5cdFx0Y29sb3IgPSBcIndiXCJbZy5jaGVzcy5oaXN0b3J5KCkubGVuZ3RoICUlIDJdICMgZsO2cnbDpG50YWQgZsOkcmcgcMOlIHBqw6RzZW5cclxuXHJcblx0XHRpZiBAY2xpY2tlZFNxdWFyZXMubGVuZ3RoID09IDBcclxuXHRcdFx0aWYgc3EgIT0gbnVsbCBhbmQgc3EuY29sb3IgPT0gY29sb3IgdGhlbiBAY2xpY2tlZFNxdWFyZXMucHVzaCBpXHJcblx0XHRlbHNlXHJcblx0XHRcdGlmIGkgPT0gQGNsaWNrZWRTcXVhcmVzWzBdXHJcblx0XHRcdFx0QGNsaWNrZWRTcXVhcmVzID0gW11cclxuXHRcdFx0ZWxzZVxyXG5cdFx0XHRcdEBjbGlja2VkU3F1YXJlcy5wdXNoIGlcclxuXHRcdFx0XHRtb3ZlID0gdG9PYmplY3ROb3RhdGlvbiBAY2xpY2tlZFNxdWFyZXNcclxuXHRcdFx0XHR1Y2kgPSB0b1VDSSBAY2xpY2tlZFNxdWFyZXNcclxuXHRcdFx0XHRpZiBnLmNoZXNzLm1vdmUgbW92ZSAjIGFjY2VwZXJhIGRyYWdldFxyXG5cdFx0XHRcdFx0Zy5zdGFjay5wdXNoIGcuY3Vyck5vZGVcclxuXHRcdFx0XHRcdCMgY29uc29sZS5sb2cgdWNpLGdsb2JhbC5jdXJyTm9kZVxyXG5cdFx0XHRcdFx0aWYgdWNpIG5vdCBvZiBnLmN1cnJOb2RlXHJcblx0XHRcdFx0XHRcdGcuY3Vyck5vZGVbdWNpXSA9IHt9XHJcblx0XHRcdFx0XHRcdGcuY291bnQrK1xyXG5cdFx0XHRcdFx0Zy5jdXJyTm9kZSA9IGcuY3Vyck5vZGVbdWNpXVxyXG5cdFx0XHRcdEBjbGlja2VkU3F1YXJlcyA9IFtdXHJcblxyXG5cdGRyYXcgOiA9PlxyXG5cclxuXHRcdEBidXR0b25zWzNdLnRleHQgPSBpZiBnbG9iYWwuY291bnQ+MCB0aGVuICdzYXZlICcgKyBnbG9iYWwuY291bnQgZWxzZSBcIlwiXHJcblxyXG5cdFx0Zm9yIGJ1dHRvbiBpbiBAYnV0dG9uc1xyXG5cdFx0XHRidXR0b24uZHJhdygpXHJcblxyXG5cdFx0IyBpZiBub3QgZ2xvYmFsLnRyZWUgdGhlbiByZXR1cm5cclxuXHJcblx0XHRmaWxsICd3aGl0ZSdcclxuXHRcdHRleHRTaXplIFNJWkUqMC4zXHJcblxyXG5cdFx0I3B1c2goKVxyXG5cdFx0I3RleHRBbGlnbiBMRUZULENFTlRFUlxyXG5cdFx0I3RleHQgZ2xvYmFsLm5hbWUsMC4wNSpTSVpFLCAwLjMqU0laRVxyXG5cdFx0I3BvcCgpXHJcblxyXG5cdFx0Zm9yIGkgaW4gcmFuZ2UgOFxyXG5cdFx0XHRmb3IgaiBpbiByYW5nZSA4XHJcblx0XHRcdFx0cGllY2UgPSBnbG9iYWwuY2hlc3MuYm9hcmQoKVs3LWldW2pdXHJcblx0XHRcdFx0QHNxdWFyZXNbaSo4K2pdLmRyYXcgcGllY2UsIEBmbGlwcGVkLCBpKjgraj09QGNsaWNrZWRTcXVhcmVzWzBdXHJcblxyXG5cdFx0c3Ryb2tlICdibGFjaydcclxuXHRcdG5vRmlsbCgpXHJcblx0XHRyZWN0IFNJWkUqNC41LFNJWkUqNC41LFNJWkUqOCxTSVpFKjhcclxuXHJcblx0XHRAbGl0dGVyYSgpXHJcblxyXG5cdFx0I3B1c2goKVxyXG5cdFx0I3RleHRBbGlnbiBDRU5URVIsQ0VOVEVSXHJcblxyXG5cdFx0I3RleHQgZ2xvYmFsLnZlcnNpb24sIDcuNSpTSVpFLCAxMCpTSVpFXHJcblx0XHQjdGV4dEFsaWduIFJJR0hULENFTlRFUlxyXG5cclxuXHRcdCMgdGV4dFNpemUgMjBcclxuXHRcdCMgbiA9IGdsb2JhbC5zdGFjay5sZW5ndGhcclxuXHRcdCMgaWYgbiA9PSAwIHRoZW4gc2NvcmUgPSAnMCdcclxuXHRcdCMgaWYgbiUyID09IDAgdGhlbiBmaWxsICd3aGl0ZScgZWxzZSBmaWxsICdibGFjaydcclxuXHRcdCMgdGV4dCAxK24vLzIsIDkuNCpTSVpFLCAwLjMqU0laRVxyXG5cclxuXHRcdCNwb3AoKVxyXG5cdFx0IyBAc2hvd0NoaWxkcmVuKClcclxuXHJcblx0bGl0dGVyYSA6ID0+XHJcblx0XHRub1N0cm9rZSgpXHJcblx0XHRmaWxsICdibGFjaydcclxuXHRcdHRleHRTaXplIFNJWkUqMC4zXHJcblx0XHRsZXR0ZXJzID0gaWYgQGZsaXBwZWQgdGhlbiBcImhnZmVkY2JhXCIgZWxzZSBcImFiY2RlZmdoXCJcclxuXHRcdGRpZ2l0cyA9IGlmIEBmbGlwcGVkIHRoZW4gIFwiMTIzNDU2NzhcIiBlbHNlIFwiODc2NTQzMjFcIlxyXG5cclxuXHRcdGZvciBpIGluIHJhbmdlIDhcclxuXHRcdFx0dGV4dCBsZXR0ZXJzW2ldLFNJWkUqKGkrMSksU0laRSo4LjhcclxuXHRcdFx0dGV4dCBkaWdpdHNbaV0sU0laRSowLjE1LFNJWkUqKGkrMSlcclxuXHJcblx0ZmxpcCA6ID0+IEBmbGlwcGVkID0gbm90IEBmbGlwcGVkXHJcbiJdfQ==
//# sourceURL=c:\github\2023-022-ChessOpenings-SpacedRepetition\coffee\board.coffee