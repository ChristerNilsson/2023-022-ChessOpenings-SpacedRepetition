// Generated by CoffeeScript 2.5.1
import _ from 'https://cdn.skypack.dev/lodash';

import {
  ass,
  log,
  range
} from '../js/utils.js';

import {
  global
} from '../js/globals.js';

// Kortet är implementerat med en hash:
// q: question. "e2e4.e7e5.g1f3"
// a: answers. ["b8c6,g8f6"] Sorterade i fallande popularitetsordning.
// p: popularity. 12345 (antal partier som spelat detta drag)

  // Eventuellt kan denna hash ersättas med ett enda index.
// Övriga data kan enkelt utvinnas mha global.tree.arr
export var SpacedRepetition = class SpacedRepetition {
  constructor(path) {
    this.lengths = this.lengths.bind(this);
    this.pick = this.pick.bind(this);
    // for box,i in sr.boxes
    // 	fill if i == sr.index then 'white' else 'black'
    // 	text box.length,40+40*i,500
    this.add = this.add.bind(this);
    this.current = this.current.bind(this);
    this.correct = this.correct.bind(this);
    this.wrong = this.wrong.bind(this);
    this.load = this.load.bind(this);
    this.save = this.save.bind(this);
    this.path = path;
    this.maximum = [
      1,
      3,
      9,
      27,
      81 // cirka 1+3+9+27+81==121 kort i systemet
    ];
    this.boxes = _.map(this.maximum, function(item) {
      return [];
    });
    this.index = -1;
  }

  lengths() {
    return _.map(this.boxes, (box) => {
      return box.length;
    });
  }

  pick() { // Hämtar ett kort från den box som är relativt mest fylld.
    var g, res;
    res = _.map(this.boxes, (box, i) => {
      return [box.length / this.maximum[i], i];
    });
    res.sort();
    this.index = _.last(res)[1];
    g = global;
    g.answers = this.current().a; // g.tree.getAnswers g.questions[@index],g.stopp
    console.log('');
    console.log(this.current().q);
    console.log('popularity:', this.current().p);
    console.log('answers:', g.answers.join(' '));
    return console.log('boxes:', this.lengths(), 'index:', this.index);
  }

  add(card) {
    return this.boxes[0].push(card);
  }

  current() { // returnerar nuvarande kort.
    if (this.index === -1) {
      return null;
    } else {
      return this.boxes[this.index][0];
    }
  }

  correct() { // flyttar kortet till nästa box
    var card;
    if (this.index === -1) {
      return;
    }
    card = this.boxes[this.index].shift();
    if (this.index + 1 < this.boxes.length) {
      this.boxes[this.index + 1].push(card);
    } else {
      console.log(card, ' is done.');
    }
    return this.index = -1;
  }

  wrong() { // flyttar kortet till box 0
    var card;
    if (this.index === -1) {
      return;
    }
    card = this.boxes[this.index].shift();
    this.boxes[0].push(card);
    return this.index = -1;
  }

  load() {} // from localStorage

  save() {} // to localStorage

};


//sr = new SpacedRepetition()
// lägg till fler kort och popularity
// card1 = {q:'e2e4', a:['e7e5']}
// card2 = {q:'e2e4.e7e5', a:['g1f3']}
// console.log card1,card2
// sr.add card1
// sr.add card2
// ass [2,0,0,0,0], sr.lengths()
//ass card1,sr.pick()
// ass [2,0,0,0,0], sr.lengths()
//ass 'e2e4 is pending',sr.pick()

// sr.correct()
// ass [1,1,0,0,0], sr.lengths()
// ass -1, sr.index
// sr.correct()
// ass -1, sr.index
// ass [1,1,0,0,0], sr.lengths()

// ass card2,sr.pick()
// sr.correct()
// ass [0,2,0,0,0], sr.lengths()

//ass card1,sr.pick()
// sr.correct()
// ass [0,1,1,0,0], sr.lengths()

//ass card2,sr.pick()
// sr.correct()
// ass [0,0,2,0,0], sr.lengths()

//ass card1,sr.pick()
// sr.correct()
// ass [0,0,1,1,0], sr.lengths()

//ass card2,sr.pick()
// sr.correct()
// ass [0,0,0,2,0], sr.lengths()

// ass card1,sr.pick()
// sr.correct()
// ass [0,0,0,1,1], sr.lengths()

// ass card2,sr.pick()
// sr.correct()
// ass [0,0,0,0,2], sr.lengths()

// ass card1,sr.pick()
// sr.correct()
// ass [0,0,0,0,1], sr.lengths()

// ass card2,sr.pick()
// sr.wrong()
// ass [1,0,0,0,0], sr.lengths()

// for i in range 4
// 	sr.pick()
// 	sr.correct()

// ass [0,0,0,0,1], sr.lengths()
// sr.pick()
// sr.correct()
// ass [0,0,0,0,0], sr.lengths()
// ass "",sr.pick()

//log sr

// breadthFirstSearch = (tree,level,result,path) =>
// 	for key,node of tree
// 		if key != "n"
// 			path1 = path + "." + key
// 			if level == 0 then result.push path1
// 			breadthFirstSearch node,level-1,result,path1

// result = []
// breadthFirstSearch tree,1,result,""
// log result

// traverseBreadthFirst = (tree,) =>
// 	result = []
// 	queue = []
// 	queue.push tree
// 	while queue.length > 0
// 		node = queue.shift()
// 		for key,value of node
// 			if key != "n"
// 				queue.push value
// 				result.push key
// 	return result

// this function returns the next node of the tree, given the current node, using breadthfirst search
//queue = []
//paths = []
// f = (tree,level) =>
// 	chars = 4*(level+1) + level
// 	queue = [tree]
// 	paths = [""]
// 	i = 0
// 	path = ''
// 	while i < queue.length
// 		node = queue[i]
// 		path = paths[i]
// 		for key of node
// 			if key != 'n'
// 				if path==""
// 					path1 = key
// 				else
// 					path1 = path + '.' + key
// 				if path1.length < chars
// 					queue.push node[key]
// 					paths.push path1
// 		i+=1
// 	paths

//log 'f',f tree,1
//log paths

// getNode = (tree,keys) =>
// 	node = tree
// 	for key in keys
// 		node = node[key]
// 	log 'getNode',keys, _.keys node
// 	node

// g = (tree,path) => gg tree,path.split '.'

// gg = (tree,keys) =>
// 	log 'A',keys
// 	path = keys.join '.'
// 	log 'B',path
// 	node = getNode tree,keys.slice 0,keys.length
// 	log node
// 	keys = f node,keys.length+1
// 	log 'C'
// 	index = keys.indexOf path
// 	log 'D',index
// 	if index == -1
// 		return gg tree, keys.slice 0,keys.length-2
// 	else
// 		return keys[index+1]

// ass "d2d4", g tree,""
// ok ass "e2e4", g tree,"d2d4"
// ok ass "g1f3", g tree,"e2e4"
// ok ass "d2d4.g8f6", g tree,"g2g3"
//ass "d2d4.b7b5.e2e4", g tree,"d2d4.g8f6.c2c4"
// ass "e2e4.c7c5.g1f3", g tree,"d2d4.b7b5.e2e4"
// ass "", g tree, "d2d4.g8f6.c2c4.c7c5.d4d5.e7e6.b1c3.e6d5.c4d5.g7g6.g1f3.d7d6.c1f4.f8g7.d1a4.c8d7.a4b3.d8c7.e2e4"

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic3BhY2VkX3JlcGV0aXRpb24uanMiLCJzb3VyY2VSb290IjoiLi4iLCJzb3VyY2VzIjpbImNvZmZlZVxcc3BhY2VkX3JlcGV0aXRpb24uY29mZmVlIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFBQSxPQUFPLENBQVAsTUFBQTs7QUFDQSxPQUFBO0VBQVEsR0FBUjtFQUFZLEdBQVo7RUFBZ0IsS0FBaEI7Q0FBQSxNQUFBOztBQUNBLE9BQUE7RUFBUSxNQUFSO0NBQUEsTUFBQSxtQkFGQTs7Ozs7Ozs7O0FBV0EsT0FBQSxJQUFhLG1CQUFOLE1BQUEsaUJBQUE7RUFFTixXQUFjLEtBQUEsQ0FBQTtRQUtkLENBQUEsY0FBQSxDQUFBO1FBRUEsQ0FBQSxXQUFBLENBQUEsZ0JBTkQ7Ozs7UUFxQkMsQ0FBQSxVQUFBLENBQUE7UUFFQSxDQUFBLGNBQUEsQ0FBQTtRQUdBLENBQUEsY0FBQSxDQUFBO1FBT0EsQ0FBQSxZQUFBLENBQUE7UUFNQSxDQUFBLFdBQUEsQ0FBQTtRQUNBLENBQUEsV0FBQSxDQUFBO0lBekNlLElBQUMsQ0FBQTtJQUNmLElBQUMsQ0FBQSxPQUFELEdBQVc7TUFBQyxDQUFEO01BQUcsQ0FBSDtNQUFLLENBQUw7TUFBTyxFQUFQO01BQVUsRUFBVjs7SUFDWCxJQUFDLENBQUEsS0FBRCxHQUFTLENBQUMsQ0FBQyxHQUFGLENBQU0sSUFBQyxDQUFBLE9BQVAsRUFBZ0IsUUFBQSxDQUFDLElBQUQsQ0FBQTthQUFVO0lBQVYsQ0FBaEI7SUFDVCxJQUFDLENBQUEsS0FBRCxHQUFTLENBQUM7RUFIRzs7RUFLZCxPQUFVLENBQUEsQ0FBQTtXQUFHLENBQUMsQ0FBQyxHQUFGLENBQU0sSUFBQyxDQUFBLEtBQVAsRUFBYyxDQUFDLEdBQUQsQ0FBQSxHQUFBO2FBQVMsR0FBRyxDQUFDO0lBQWIsQ0FBZDtFQUFIOztFQUVWLElBQU8sQ0FBQSxDQUFBLEVBQUE7QUFDUixRQUFBLENBQUEsRUFBQTtJQUFFLEdBQUEsR0FBTSxDQUFDLENBQUMsR0FBRixDQUFNLElBQUMsQ0FBQSxLQUFQLEVBQWMsQ0FBQyxHQUFELEVBQUssQ0FBTCxDQUFBLEdBQUE7YUFBVyxDQUFDLEdBQUcsQ0FBQyxNQUFKLEdBQVcsSUFBQyxDQUFBLE9BQU8sQ0FBQyxDQUFELENBQXBCLEVBQXlCLENBQXpCO0lBQVgsQ0FBZDtJQUNOLEdBQUcsQ0FBQyxJQUFKLENBQUE7SUFDQSxJQUFDLENBQUEsS0FBRCxHQUFTLENBQUMsQ0FBQyxJQUFGLENBQU8sR0FBUCxDQUFXLENBQUMsQ0FBRDtJQUNwQixDQUFBLEdBQUk7SUFDSixDQUFDLENBQUMsT0FBRixHQUFZLElBQUMsQ0FBQSxPQUFELENBQUEsQ0FBVSxDQUFDLEVBSnpCO0lBS0UsT0FBTyxDQUFDLEdBQVIsQ0FBWSxFQUFaO0lBQ0EsT0FBTyxDQUFDLEdBQVIsQ0FBWSxJQUFDLENBQUEsT0FBRCxDQUFBLENBQVUsQ0FBQyxDQUF2QjtJQUNBLE9BQU8sQ0FBQyxHQUFSLENBQVksYUFBWixFQUEyQixJQUFDLENBQUEsT0FBRCxDQUFBLENBQVUsQ0FBQyxDQUF0QztJQUNBLE9BQU8sQ0FBQyxHQUFSLENBQVksVUFBWixFQUF1QixDQUFDLENBQUMsT0FBTyxDQUFDLElBQVYsQ0FBZSxHQUFmLENBQXZCO1dBQ0EsT0FBTyxDQUFDLEdBQVIsQ0FBWSxRQUFaLEVBQXNCLElBQUMsQ0FBQSxPQUFELENBQUEsQ0FBdEIsRUFBa0MsUUFBbEMsRUFBMkMsSUFBQyxDQUFBLEtBQTVDO0VBVk07O0VBZVAsR0FBTSxDQUFDLElBQUQsQ0FBQTtXQUFVLElBQUMsQ0FBQSxLQUFLLENBQUMsQ0FBRCxDQUFHLENBQUMsSUFBVixDQUFlLElBQWY7RUFBVjs7RUFFTixPQUFVLENBQUEsQ0FBQSxFQUFBO0lBQ1QsSUFBRyxJQUFDLENBQUEsS0FBRCxLQUFVLENBQUMsQ0FBZDthQUFxQixLQUFyQjtLQUFBLE1BQUE7YUFBK0IsSUFBQyxDQUFBLEtBQUssQ0FBQyxJQUFDLENBQUEsS0FBRixDQUFRLENBQUMsQ0FBRCxFQUE3Qzs7RUFEUzs7RUFHVixPQUFVLENBQUEsQ0FBQSxFQUFBO0FBQ1gsUUFBQTtJQUFFLElBQUcsSUFBQyxDQUFBLEtBQUQsS0FBVSxDQUFDLENBQWQ7QUFBcUIsYUFBckI7O0lBQ0EsSUFBQSxHQUFPLElBQUMsQ0FBQSxLQUFLLENBQUMsSUFBQyxDQUFBLEtBQUYsQ0FBUSxDQUFDLEtBQWYsQ0FBQTtJQUNQLElBQUcsSUFBQyxDQUFBLEtBQUQsR0FBTyxDQUFQLEdBQVcsSUFBQyxDQUFBLEtBQUssQ0FBQyxNQUFyQjtNQUFpQyxJQUFDLENBQUEsS0FBSyxDQUFDLElBQUMsQ0FBQSxLQUFELEdBQU8sQ0FBUixDQUFVLENBQUMsSUFBakIsQ0FBc0IsSUFBdEIsRUFBakM7S0FBQSxNQUFBO01BQ0ssT0FBTyxDQUFDLEdBQVIsQ0FBWSxJQUFaLEVBQWlCLFdBQWpCLEVBREw7O1dBRUEsSUFBQyxDQUFBLEtBQUQsR0FBUyxDQUFDO0VBTEQ7O0VBT1YsS0FBUSxDQUFBLENBQUEsRUFBQTtBQUNULFFBQUE7SUFBRSxJQUFHLElBQUMsQ0FBQSxLQUFELEtBQVUsQ0FBQyxDQUFkO0FBQXFCLGFBQXJCOztJQUNBLElBQUEsR0FBTyxJQUFDLENBQUEsS0FBSyxDQUFDLElBQUMsQ0FBQSxLQUFGLENBQVEsQ0FBQyxLQUFmLENBQUE7SUFDUCxJQUFDLENBQUEsS0FBSyxDQUFDLENBQUQsQ0FBRyxDQUFDLElBQVYsQ0FBZSxJQUFmO1dBQ0EsSUFBQyxDQUFBLEtBQUQsR0FBUyxDQUFDO0VBSkg7O0VBTVIsSUFBTSxDQUFBLENBQUEsRUFBQSxDQXhDUDs7RUF5Q0MsSUFBTSxDQUFBLENBQUEsRUFBQSxDQXpDUDs7QUFGTzs7QUFYUCIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBfIGZyb20gJ2h0dHBzOi8vY2RuLnNreXBhY2suZGV2L2xvZGFzaCdcclxuaW1wb3J0IHthc3MsbG9nLHJhbmdlfSBmcm9tICcuLi9qcy91dGlscy5qcydcclxuaW1wb3J0IHtnbG9iYWx9IGZyb20gJy4uL2pzL2dsb2JhbHMuanMnXHJcblxyXG4jIEtvcnRldCDDpHIgaW1wbGVtZW50ZXJhdCBtZWQgZW4gaGFzaDpcclxuIyBxOiBxdWVzdGlvbi4gXCJlMmU0LmU3ZTUuZzFmM1wiXHJcbiMgYTogYW5zd2Vycy4gW1wiYjhjNixnOGY2XCJdIFNvcnRlcmFkZSBpIGZhbGxhbmRlIHBvcHVsYXJpdGV0c29yZG5pbmcuXHJcbiMgcDogcG9wdWxhcml0eS4gMTIzNDUgKGFudGFsIHBhcnRpZXIgc29tIHNwZWxhdCBkZXR0YSBkcmFnKVxyXG5cclxuIyBFdmVudHVlbGx0IGthbiBkZW5uYSBoYXNoIGVyc8OkdHRhcyBtZWQgZXR0IGVuZGEgaW5kZXguXHJcbiMgw5Z2cmlnYSBkYXRhIGthbiBlbmtlbHQgdXR2aW5uYXMgbWhhIGdsb2JhbC50cmVlLmFyclxyXG5leHBvcnQgY2xhc3MgU3BhY2VkUmVwZXRpdGlvblxyXG5cclxuXHRjb25zdHJ1Y3RvciA6IChAcGF0aCkgLT5cclxuXHRcdEBtYXhpbXVtID0gWzEsMyw5LDI3LDgxXSAjIGNpcmthIDErMys5KzI3KzgxPT0xMjEga29ydCBpIHN5c3RlbWV0XHJcblx0XHRAYm94ZXMgPSBfLm1hcCBAbWF4aW11bSwgKGl0ZW0pIC0+IFtdXHJcblx0XHRAaW5kZXggPSAtMVxyXG5cclxuXHRsZW5ndGhzIDogPT4gXy5tYXAgQGJveGVzLCAoYm94KSA9PiBib3gubGVuZ3RoXHJcblxyXG5cdHBpY2sgOiA9PiAjIEjDpG10YXIgZXR0IGtvcnQgZnLDpW4gZGVuIGJveCBzb20gw6RyIHJlbGF0aXZ0IG1lc3QgZnlsbGQuXHJcblx0XHRyZXMgPSBfLm1hcCBAYm94ZXMsIChib3gsaSkgPT4gW2JveC5sZW5ndGgvQG1heGltdW1baV0sIGldXHJcblx0XHRyZXMuc29ydCgpXHJcblx0XHRAaW5kZXggPSBfLmxhc3QocmVzKVsxXVxyXG5cdFx0ZyA9IGdsb2JhbFxyXG5cdFx0Zy5hbnN3ZXJzID0gQGN1cnJlbnQoKS5hICMgZy50cmVlLmdldEFuc3dlcnMgZy5xdWVzdGlvbnNbQGluZGV4XSxnLnN0b3BwXHJcblx0XHRjb25zb2xlLmxvZyAnJ1xyXG5cdFx0Y29uc29sZS5sb2cgQGN1cnJlbnQoKS5xXHJcblx0XHRjb25zb2xlLmxvZyAncG9wdWxhcml0eTonLCBAY3VycmVudCgpLnBcclxuXHRcdGNvbnNvbGUubG9nICdhbnN3ZXJzOicsZy5hbnN3ZXJzLmpvaW4gJyAnXHJcblx0XHRjb25zb2xlLmxvZyAnYm94ZXM6JywgQGxlbmd0aHMoKSwgJ2luZGV4OicsQGluZGV4XHJcblx0IyBmb3IgYm94LGkgaW4gc3IuYm94ZXNcclxuXHQjIFx0ZmlsbCBpZiBpID09IHNyLmluZGV4IHRoZW4gJ3doaXRlJyBlbHNlICdibGFjaydcclxuXHQjIFx0dGV4dCBib3gubGVuZ3RoLDQwKzQwKmksNTAwXHJcblxyXG5cdGFkZCA6IChjYXJkKSA9PiBAYm94ZXNbMF0ucHVzaCBjYXJkXHJcblxyXG5cdGN1cnJlbnQgOiA9PiAjIHJldHVybmVyYXIgbnV2YXJhbmRlIGtvcnQuXHJcblx0XHRpZiBAaW5kZXggPT0gLTEgdGhlbiBudWxsIGVsc2UgQGJveGVzW0BpbmRleF1bMF1cclxuXHJcblx0Y29ycmVjdCA6ID0+ICMgZmx5dHRhciBrb3J0ZXQgdGlsbCBuw6RzdGEgYm94XHJcblx0XHRpZiBAaW5kZXggPT0gLTEgdGhlbiByZXR1cm5cclxuXHRcdGNhcmQgPSBAYm94ZXNbQGluZGV4XS5zaGlmdCgpXHJcblx0XHRpZiBAaW5kZXgrMSA8IEBib3hlcy5sZW5ndGggdGhlbiBAYm94ZXNbQGluZGV4KzFdLnB1c2ggY2FyZFxyXG5cdFx0ZWxzZSBjb25zb2xlLmxvZyBjYXJkLCcgaXMgZG9uZS4nXHJcblx0XHRAaW5kZXggPSAtMVxyXG5cclxuXHR3cm9uZyA6ID0+ICMgZmx5dHRhciBrb3J0ZXQgdGlsbCBib3ggMFxyXG5cdFx0aWYgQGluZGV4ID09IC0xIHRoZW4gcmV0dXJuXHJcblx0XHRjYXJkID0gQGJveGVzW0BpbmRleF0uc2hpZnQoKVxyXG5cdFx0QGJveGVzWzBdLnB1c2ggY2FyZFxyXG5cdFx0QGluZGV4ID0gLTFcclxuXHJcblx0bG9hZDogPT4gIyBmcm9tIGxvY2FsU3RvcmFnZVxyXG5cdHNhdmU6ID0+ICMgdG8gbG9jYWxTdG9yYWdlXHJcblxyXG4jc3IgPSBuZXcgU3BhY2VkUmVwZXRpdGlvbigpXHJcbiMgbMOkZ2cgdGlsbCBmbGVyIGtvcnQgb2NoIHBvcHVsYXJpdHlcclxuIyBjYXJkMSA9IHtxOidlMmU0JywgYTpbJ2U3ZTUnXX1cclxuIyBjYXJkMiA9IHtxOidlMmU0LmU3ZTUnLCBhOlsnZzFmMyddfVxyXG4jIGNvbnNvbGUubG9nIGNhcmQxLGNhcmQyXHJcbiMgc3IuYWRkIGNhcmQxXHJcbiMgc3IuYWRkIGNhcmQyXHJcbiMgYXNzIFsyLDAsMCwwLDBdLCBzci5sZW5ndGhzKClcclxuI2FzcyBjYXJkMSxzci5waWNrKClcclxuIyBhc3MgWzIsMCwwLDAsMF0sIHNyLmxlbmd0aHMoKVxyXG4jYXNzICdlMmU0IGlzIHBlbmRpbmcnLHNyLnBpY2soKVxyXG5cclxuIyBzci5jb3JyZWN0KClcclxuIyBhc3MgWzEsMSwwLDAsMF0sIHNyLmxlbmd0aHMoKVxyXG4jIGFzcyAtMSwgc3IuaW5kZXhcclxuIyBzci5jb3JyZWN0KClcclxuIyBhc3MgLTEsIHNyLmluZGV4XHJcbiMgYXNzIFsxLDEsMCwwLDBdLCBzci5sZW5ndGhzKClcclxuXHJcbiMgYXNzIGNhcmQyLHNyLnBpY2soKVxyXG4jIHNyLmNvcnJlY3QoKVxyXG4jIGFzcyBbMCwyLDAsMCwwXSwgc3IubGVuZ3RocygpXHJcblxyXG4jYXNzIGNhcmQxLHNyLnBpY2soKVxyXG4jIHNyLmNvcnJlY3QoKVxyXG4jIGFzcyBbMCwxLDEsMCwwXSwgc3IubGVuZ3RocygpXHJcblxyXG4jYXNzIGNhcmQyLHNyLnBpY2soKVxyXG4jIHNyLmNvcnJlY3QoKVxyXG4jIGFzcyBbMCwwLDIsMCwwXSwgc3IubGVuZ3RocygpXHJcblxyXG4jYXNzIGNhcmQxLHNyLnBpY2soKVxyXG4jIHNyLmNvcnJlY3QoKVxyXG4jIGFzcyBbMCwwLDEsMSwwXSwgc3IubGVuZ3RocygpXHJcblxyXG4jYXNzIGNhcmQyLHNyLnBpY2soKVxyXG4jIHNyLmNvcnJlY3QoKVxyXG4jIGFzcyBbMCwwLDAsMiwwXSwgc3IubGVuZ3RocygpXHJcblxyXG4jIGFzcyBjYXJkMSxzci5waWNrKClcclxuIyBzci5jb3JyZWN0KClcclxuIyBhc3MgWzAsMCwwLDEsMV0sIHNyLmxlbmd0aHMoKVxyXG5cclxuIyBhc3MgY2FyZDIsc3IucGljaygpXHJcbiMgc3IuY29ycmVjdCgpXHJcbiMgYXNzIFswLDAsMCwwLDJdLCBzci5sZW5ndGhzKClcclxuXHJcbiMgYXNzIGNhcmQxLHNyLnBpY2soKVxyXG4jIHNyLmNvcnJlY3QoKVxyXG4jIGFzcyBbMCwwLDAsMCwxXSwgc3IubGVuZ3RocygpXHJcblxyXG4jIGFzcyBjYXJkMixzci5waWNrKClcclxuIyBzci53cm9uZygpXHJcbiMgYXNzIFsxLDAsMCwwLDBdLCBzci5sZW5ndGhzKClcclxuXHJcbiMgZm9yIGkgaW4gcmFuZ2UgNFxyXG4jIFx0c3IucGljaygpXHJcbiMgXHRzci5jb3JyZWN0KClcclxuXHJcbiMgYXNzIFswLDAsMCwwLDFdLCBzci5sZW5ndGhzKClcclxuIyBzci5waWNrKClcclxuIyBzci5jb3JyZWN0KClcclxuIyBhc3MgWzAsMCwwLDAsMF0sIHNyLmxlbmd0aHMoKVxyXG4jIGFzcyBcIlwiLHNyLnBpY2soKVxyXG5cclxuI2xvZyBzclxyXG5cclxuIyBicmVhZHRoRmlyc3RTZWFyY2ggPSAodHJlZSxsZXZlbCxyZXN1bHQscGF0aCkgPT5cclxuIyBcdGZvciBrZXksbm9kZSBvZiB0cmVlXHJcbiMgXHRcdGlmIGtleSAhPSBcIm5cIlxyXG4jIFx0XHRcdHBhdGgxID0gcGF0aCArIFwiLlwiICsga2V5XHJcbiMgXHRcdFx0aWYgbGV2ZWwgPT0gMCB0aGVuIHJlc3VsdC5wdXNoIHBhdGgxXHJcbiMgXHRcdFx0YnJlYWR0aEZpcnN0U2VhcmNoIG5vZGUsbGV2ZWwtMSxyZXN1bHQscGF0aDFcclxuXHJcbiMgcmVzdWx0ID0gW11cclxuIyBicmVhZHRoRmlyc3RTZWFyY2ggdHJlZSwxLHJlc3VsdCxcIlwiXHJcbiMgbG9nIHJlc3VsdFxyXG5cclxuIyB0cmF2ZXJzZUJyZWFkdGhGaXJzdCA9ICh0cmVlLCkgPT5cclxuIyBcdHJlc3VsdCA9IFtdXHJcbiMgXHRxdWV1ZSA9IFtdXHJcbiMgXHRxdWV1ZS5wdXNoIHRyZWVcclxuIyBcdHdoaWxlIHF1ZXVlLmxlbmd0aCA+IDBcclxuIyBcdFx0bm9kZSA9IHF1ZXVlLnNoaWZ0KClcclxuIyBcdFx0Zm9yIGtleSx2YWx1ZSBvZiBub2RlXHJcbiMgXHRcdFx0aWYga2V5ICE9IFwiblwiXHJcbiMgXHRcdFx0XHRxdWV1ZS5wdXNoIHZhbHVlXHJcbiMgXHRcdFx0XHRyZXN1bHQucHVzaCBrZXlcclxuIyBcdHJldHVybiByZXN1bHRcclxuXHJcbiMgdGhpcyBmdW5jdGlvbiByZXR1cm5zIHRoZSBuZXh0IG5vZGUgb2YgdGhlIHRyZWUsIGdpdmVuIHRoZSBjdXJyZW50IG5vZGUsIHVzaW5nIGJyZWFkdGhmaXJzdCBzZWFyY2hcclxuI3F1ZXVlID0gW11cclxuI3BhdGhzID0gW11cclxuIyBmID0gKHRyZWUsbGV2ZWwpID0+XHJcbiMgXHRjaGFycyA9IDQqKGxldmVsKzEpICsgbGV2ZWxcclxuIyBcdHF1ZXVlID0gW3RyZWVdXHJcbiMgXHRwYXRocyA9IFtcIlwiXVxyXG4jIFx0aSA9IDBcclxuIyBcdHBhdGggPSAnJ1xyXG4jIFx0d2hpbGUgaSA8IHF1ZXVlLmxlbmd0aFxyXG4jIFx0XHRub2RlID0gcXVldWVbaV1cclxuIyBcdFx0cGF0aCA9IHBhdGhzW2ldXHJcbiMgXHRcdGZvciBrZXkgb2Ygbm9kZVxyXG4jIFx0XHRcdGlmIGtleSAhPSAnbidcclxuIyBcdFx0XHRcdGlmIHBhdGg9PVwiXCJcclxuIyBcdFx0XHRcdFx0cGF0aDEgPSBrZXlcclxuIyBcdFx0XHRcdGVsc2VcclxuIyBcdFx0XHRcdFx0cGF0aDEgPSBwYXRoICsgJy4nICsga2V5XHJcbiMgXHRcdFx0XHRpZiBwYXRoMS5sZW5ndGggPCBjaGFyc1xyXG4jIFx0XHRcdFx0XHRxdWV1ZS5wdXNoIG5vZGVba2V5XVxyXG4jIFx0XHRcdFx0XHRwYXRocy5wdXNoIHBhdGgxXHJcbiMgXHRcdGkrPTFcclxuIyBcdHBhdGhzXHJcblxyXG4jbG9nICdmJyxmIHRyZWUsMVxyXG4jbG9nIHBhdGhzXHJcblxyXG4jIGdldE5vZGUgPSAodHJlZSxrZXlzKSA9PlxyXG4jIFx0bm9kZSA9IHRyZWVcclxuIyBcdGZvciBrZXkgaW4ga2V5c1xyXG4jIFx0XHRub2RlID0gbm9kZVtrZXldXHJcbiMgXHRsb2cgJ2dldE5vZGUnLGtleXMsIF8ua2V5cyBub2RlXHJcbiMgXHRub2RlXHJcblxyXG4jIGcgPSAodHJlZSxwYXRoKSA9PiBnZyB0cmVlLHBhdGguc3BsaXQgJy4nXHJcblxyXG4jIGdnID0gKHRyZWUsa2V5cykgPT5cclxuIyBcdGxvZyAnQScsa2V5c1xyXG4jIFx0cGF0aCA9IGtleXMuam9pbiAnLidcclxuIyBcdGxvZyAnQicscGF0aFxyXG4jIFx0bm9kZSA9IGdldE5vZGUgdHJlZSxrZXlzLnNsaWNlIDAsa2V5cy5sZW5ndGhcclxuIyBcdGxvZyBub2RlXHJcbiMgXHRrZXlzID0gZiBub2RlLGtleXMubGVuZ3RoKzFcclxuIyBcdGxvZyAnQydcclxuIyBcdGluZGV4ID0ga2V5cy5pbmRleE9mIHBhdGhcclxuIyBcdGxvZyAnRCcsaW5kZXhcclxuIyBcdGlmIGluZGV4ID09IC0xXHJcbiMgXHRcdHJldHVybiBnZyB0cmVlLCBrZXlzLnNsaWNlIDAsa2V5cy5sZW5ndGgtMlxyXG4jIFx0ZWxzZVxyXG4jIFx0XHRyZXR1cm4ga2V5c1tpbmRleCsxXVxyXG5cclxuIyBhc3MgXCJkMmQ0XCIsIGcgdHJlZSxcIlwiXHJcbiMgb2sgYXNzIFwiZTJlNFwiLCBnIHRyZWUsXCJkMmQ0XCJcclxuIyBvayBhc3MgXCJnMWYzXCIsIGcgdHJlZSxcImUyZTRcIlxyXG4jIG9rIGFzcyBcImQyZDQuZzhmNlwiLCBnIHRyZWUsXCJnMmczXCJcclxuI2FzcyBcImQyZDQuYjdiNS5lMmU0XCIsIGcgdHJlZSxcImQyZDQuZzhmNi5jMmM0XCJcclxuIyBhc3MgXCJlMmU0LmM3YzUuZzFmM1wiLCBnIHRyZWUsXCJkMmQ0LmI3YjUuZTJlNFwiXHJcbiMgYXNzIFwiXCIsIGcgdHJlZSwgXCJkMmQ0Lmc4ZjYuYzJjNC5jN2M1LmQ0ZDUuZTdlNi5iMWMzLmU2ZDUuYzRkNS5nN2c2LmcxZjMuZDdkNi5jMWY0LmY4ZzcuZDFhNC5jOGQ3LmE0YjMuZDhjNy5lMmU0XCJcclxuIl19
//# sourceURL=c:\github\2023-022-ChessOpenings-SpacedRepetition\coffee\spaced_repetition.coffee