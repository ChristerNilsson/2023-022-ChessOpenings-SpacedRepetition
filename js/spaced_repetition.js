// Generated by CoffeeScript 2.5.1
import _ from 'https://cdn.skypack.dev/lodash';

import {
  ass,
  log,
  range
} from '../js/utils.js';

// Kortet är implementerat med en hash:
// q: question. "e2e4.e7e5.g1f3"
// a: answers. ["b8c6,g8f6"] Sorterade i fallande popularitetsordning.
// p: popularity. 12345 (antal partier som spelat detta drag)

  // Eventuellt kan denna hash ersättas med ett enda index.
// Övriga data kan enkelt utvinnas mha global.tree.arr
export var SpacedRepetition = class SpacedRepetition {
  constructor(path) {
    this.lengths = this.lengths.bind(this);
    this.pick = this.pick.bind(this);
    this.add = this.add.bind(this);
    this.current = this.current.bind(this);
    this.correct = this.correct.bind(this);
    this.wrong = this.wrong.bind(this);
    this.load = this.load.bind(this);
    this.save = this.save.bind(this);
    this.path = path;
    this.maximum = [
      1,
      3,
      9,
      27,
      81 // cirka 1+3+9+27+81==121 kort i systemet
    ];
    this.boxes = _.map(this.maximum, function(item) {
      return [];
    });
    this.index = -1;
  }

  lengths() {
    return _.map(this.boxes, (box) => {
      return box.length;
    });
  }

  pick() { // Hämtar ett kort från den box som är relativt mest fylld.
    var res;
    res = _.map(this.boxes, (box, i) => {
      return [box.length / this.maximum[i], i];
    });
    res.sort();
    return this.index = _.last(res)[1];
  }

  add(card) {
    return this.boxes[0].push(card);
  }

  current() { // returnerar nuvarande kort.
    if (this.index === -1) {
      return null;
    } else {
      return this.boxes[this.index][0];
    }
  }

  correct() { // flyttar kortet till nästa box
    var card;
    if (this.index === -1) {
      return;
    }
    card = this.boxes[this.index].shift();
    if (this.index + 1 < this.boxes.length) {
      this.boxes[this.index + 1].push(card);
    } else {
      console.log(card, ' is done.');
    }
    return this.index = -1;
  }

  wrong() { // flyttar kortet till box 0
    var card;
    if (this.index === -1) {
      return;
    }
    card = this.boxes[this.index].shift();
    this.boxes[0].push(card);
    return this.index = -1;
  }

  load() {} // from localStorage

  save() {} // to localStorage

};


//sr = new SpacedRepetition()
// lägg till fler kort och popularity
// card1 = {q:'e2e4', a:['e7e5']}
// card2 = {q:'e2e4.e7e5', a:['g1f3']}
// console.log card1,card2
// sr.add card1
// sr.add card2
// ass [2,0,0,0,0], sr.lengths()
//ass card1,sr.pick()
// ass [2,0,0,0,0], sr.lengths()
//ass 'e2e4 is pending',sr.pick()

// sr.correct()
// ass [1,1,0,0,0], sr.lengths()
// ass -1, sr.index
// sr.correct()
// ass -1, sr.index
// ass [1,1,0,0,0], sr.lengths()

// ass card2,sr.pick()
// sr.correct()
// ass [0,2,0,0,0], sr.lengths()

//ass card1,sr.pick()
// sr.correct()
// ass [0,1,1,0,0], sr.lengths()

//ass card2,sr.pick()
// sr.correct()
// ass [0,0,2,0,0], sr.lengths()

//ass card1,sr.pick()
// sr.correct()
// ass [0,0,1,1,0], sr.lengths()

//ass card2,sr.pick()
// sr.correct()
// ass [0,0,0,2,0], sr.lengths()

// ass card1,sr.pick()
// sr.correct()
// ass [0,0,0,1,1], sr.lengths()

// ass card2,sr.pick()
// sr.correct()
// ass [0,0,0,0,2], sr.lengths()

// ass card1,sr.pick()
// sr.correct()
// ass [0,0,0,0,1], sr.lengths()

// ass card2,sr.pick()
// sr.wrong()
// ass [1,0,0,0,0], sr.lengths()

// for i in range 4
// 	sr.pick()
// 	sr.correct()

// ass [0,0,0,0,1], sr.lengths()
// sr.pick()
// sr.correct()
// ass [0,0,0,0,0], sr.lengths()
// ass "",sr.pick()

//log sr

// breadthFirstSearch = (tree,level,result,path) =>
// 	for key,node of tree
// 		if key != "n"
// 			path1 = path + "." + key
// 			if level == 0 then result.push path1
// 			breadthFirstSearch node,level-1,result,path1

// result = []
// breadthFirstSearch tree,1,result,""
// log result

// traverseBreadthFirst = (tree,) =>
// 	result = []
// 	queue = []
// 	queue.push tree
// 	while queue.length > 0
// 		node = queue.shift()
// 		for key,value of node
// 			if key != "n"
// 				queue.push value
// 				result.push key
// 	return result

// this function returns the next node of the tree, given the current node, using breadthfirst search
//queue = []
//paths = []
// f = (tree,level) =>
// 	chars = 4*(level+1) + level
// 	queue = [tree]
// 	paths = [""]
// 	i = 0
// 	path = ''
// 	while i < queue.length
// 		node = queue[i]
// 		path = paths[i]
// 		for key of node
// 			if key != 'n'
// 				if path==""
// 					path1 = key
// 				else
// 					path1 = path + '.' + key
// 				if path1.length < chars
// 					queue.push node[key]
// 					paths.push path1
// 		i+=1
// 	paths

//log 'f',f tree,1
//log paths

// getNode = (tree,keys) =>
// 	node = tree
// 	for key in keys
// 		node = node[key]
// 	log 'getNode',keys, _.keys node
// 	node

// g = (tree,path) => gg tree,path.split '.'

// gg = (tree,keys) =>
// 	log 'A',keys
// 	path = keys.join '.'
// 	log 'B',path
// 	node = getNode tree,keys.slice 0,keys.length
// 	log node
// 	keys = f node,keys.length+1
// 	log 'C'
// 	index = keys.indexOf path
// 	log 'D',index
// 	if index == -1
// 		return gg tree, keys.slice 0,keys.length-2
// 	else
// 		return keys[index+1]

// ass "d2d4", g tree,""
// ok ass "e2e4", g tree,"d2d4"
// ok ass "g1f3", g tree,"e2e4"
// ok ass "d2d4.g8f6", g tree,"g2g3"
//ass "d2d4.b7b5.e2e4", g tree,"d2d4.g8f6.c2c4"
// ass "e2e4.c7c5.g1f3", g tree,"d2d4.b7b5.e2e4"
// ass "", g tree, "d2d4.g8f6.c2c4.c7c5.d4d5.e7e6.b1c3.e6d5.c4d5.g7g6.g1f3.d7d6.c1f4.f8g7.d1a4.c8d7.a4b3.d8c7.e2e4"

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic3BhY2VkX3JlcGV0aXRpb24uanMiLCJzb3VyY2VSb290IjoiLi4iLCJzb3VyY2VzIjpbImNvZmZlZVxcc3BhY2VkX3JlcGV0aXRpb24uY29mZmVlIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFBQSxPQUFPLENBQVAsTUFBQTs7QUFDQSxPQUFBO0VBQVEsR0FBUjtFQUFZLEdBQVo7RUFBZ0IsS0FBaEI7Q0FBQSxNQUFBLGlCQURBOzs7Ozs7Ozs7QUFVQSxPQUFBLElBQWEsbUJBQU4sTUFBQSxpQkFBQTtFQUVOLFdBQWMsS0FBQSxDQUFBO1FBS2QsQ0FBQSxjQUFBLENBQUE7UUFFQSxDQUFBLFdBQUEsQ0FBQTtRQUtBLENBQUEsVUFBQSxDQUFBO1FBRUEsQ0FBQSxjQUFBLENBQUE7UUFHQSxDQUFBLGNBQUEsQ0FBQTtRQU9BLENBQUEsWUFBQSxDQUFBO1FBTUEsQ0FBQSxXQUFBLENBQUE7UUFDQSxDQUFBLFdBQUEsQ0FBQTtJQS9CZSxJQUFDLENBQUE7SUFDZixJQUFDLENBQUEsT0FBRCxHQUFXO01BQUMsQ0FBRDtNQUFHLENBQUg7TUFBSyxDQUFMO01BQU8sRUFBUDtNQUFVLEVBQVY7O0lBQ1gsSUFBQyxDQUFBLEtBQUQsR0FBUyxDQUFDLENBQUMsR0FBRixDQUFNLElBQUMsQ0FBQSxPQUFQLEVBQWdCLFFBQUEsQ0FBQyxJQUFELENBQUE7YUFBVTtJQUFWLENBQWhCO0lBQ1QsSUFBQyxDQUFBLEtBQUQsR0FBUyxDQUFDO0VBSEc7O0VBS2QsT0FBVSxDQUFBLENBQUE7V0FBRyxDQUFDLENBQUMsR0FBRixDQUFNLElBQUMsQ0FBQSxLQUFQLEVBQWMsQ0FBQyxHQUFELENBQUEsR0FBQTthQUFTLEdBQUcsQ0FBQztJQUFiLENBQWQ7RUFBSDs7RUFFVixJQUFPLENBQUEsQ0FBQSxFQUFBO0FBQ1IsUUFBQTtJQUFFLEdBQUEsR0FBTSxDQUFDLENBQUMsR0FBRixDQUFNLElBQUMsQ0FBQSxLQUFQLEVBQWMsQ0FBQyxHQUFELEVBQUssQ0FBTCxDQUFBLEdBQUE7YUFBVyxDQUFDLEdBQUcsQ0FBQyxNQUFKLEdBQVcsSUFBQyxDQUFBLE9BQU8sQ0FBQyxDQUFELENBQXBCLEVBQXlCLENBQXpCO0lBQVgsQ0FBZDtJQUNOLEdBQUcsQ0FBQyxJQUFKLENBQUE7V0FDQSxJQUFDLENBQUEsS0FBRCxHQUFTLENBQUMsQ0FBQyxJQUFGLENBQU8sR0FBUCxDQUFXLENBQUMsQ0FBRDtFQUhkOztFQUtQLEdBQU0sQ0FBQyxJQUFELENBQUE7V0FBVSxJQUFDLENBQUEsS0FBSyxDQUFDLENBQUQsQ0FBRyxDQUFDLElBQVYsQ0FBZSxJQUFmO0VBQVY7O0VBRU4sT0FBVSxDQUFBLENBQUEsRUFBQTtJQUNULElBQUcsSUFBQyxDQUFBLEtBQUQsS0FBVSxDQUFDLENBQWQ7YUFBcUIsS0FBckI7S0FBQSxNQUFBO2FBQStCLElBQUMsQ0FBQSxLQUFLLENBQUMsSUFBQyxDQUFBLEtBQUYsQ0FBUSxDQUFDLENBQUQsRUFBN0M7O0VBRFM7O0VBR1YsT0FBVSxDQUFBLENBQUEsRUFBQTtBQUNYLFFBQUE7SUFBRSxJQUFHLElBQUMsQ0FBQSxLQUFELEtBQVUsQ0FBQyxDQUFkO0FBQXFCLGFBQXJCOztJQUNBLElBQUEsR0FBTyxJQUFDLENBQUEsS0FBSyxDQUFDLElBQUMsQ0FBQSxLQUFGLENBQVEsQ0FBQyxLQUFmLENBQUE7SUFDUCxJQUFHLElBQUMsQ0FBQSxLQUFELEdBQU8sQ0FBUCxHQUFXLElBQUMsQ0FBQSxLQUFLLENBQUMsTUFBckI7TUFBaUMsSUFBQyxDQUFBLEtBQUssQ0FBQyxJQUFDLENBQUEsS0FBRCxHQUFPLENBQVIsQ0FBVSxDQUFDLElBQWpCLENBQXNCLElBQXRCLEVBQWpDO0tBQUEsTUFBQTtNQUNLLE9BQU8sQ0FBQyxHQUFSLENBQVksSUFBWixFQUFpQixXQUFqQixFQURMOztXQUVBLElBQUMsQ0FBQSxLQUFELEdBQVMsQ0FBQztFQUxEOztFQU9WLEtBQVEsQ0FBQSxDQUFBLEVBQUE7QUFDVCxRQUFBO0lBQUUsSUFBRyxJQUFDLENBQUEsS0FBRCxLQUFVLENBQUMsQ0FBZDtBQUFxQixhQUFyQjs7SUFDQSxJQUFBLEdBQU8sSUFBQyxDQUFBLEtBQUssQ0FBQyxJQUFDLENBQUEsS0FBRixDQUFRLENBQUMsS0FBZixDQUFBO0lBQ1AsSUFBQyxDQUFBLEtBQUssQ0FBQyxDQUFELENBQUcsQ0FBQyxJQUFWLENBQWUsSUFBZjtXQUNBLElBQUMsQ0FBQSxLQUFELEdBQVMsQ0FBQztFQUpIOztFQU1SLElBQU0sQ0FBQSxDQUFBLEVBQUEsQ0E5QlA7O0VBK0JDLElBQU0sQ0FBQSxDQUFBLEVBQUEsQ0EvQlA7O0FBRk87O0FBVlAiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgXyBmcm9tICdodHRwczovL2Nkbi5za3lwYWNrLmRldi9sb2Rhc2gnXHJcbmltcG9ydCB7YXNzLGxvZyxyYW5nZX0gZnJvbSAnLi4vanMvdXRpbHMuanMnXHJcblxyXG4jIEtvcnRldCDDpHIgaW1wbGVtZW50ZXJhdCBtZWQgZW4gaGFzaDpcclxuIyBxOiBxdWVzdGlvbi4gXCJlMmU0LmU3ZTUuZzFmM1wiXHJcbiMgYTogYW5zd2Vycy4gW1wiYjhjNixnOGY2XCJdIFNvcnRlcmFkZSBpIGZhbGxhbmRlIHBvcHVsYXJpdGV0c29yZG5pbmcuXHJcbiMgcDogcG9wdWxhcml0eS4gMTIzNDUgKGFudGFsIHBhcnRpZXIgc29tIHNwZWxhdCBkZXR0YSBkcmFnKVxyXG5cclxuIyBFdmVudHVlbGx0IGthbiBkZW5uYSBoYXNoIGVyc8OkdHRhcyBtZWQgZXR0IGVuZGEgaW5kZXguXHJcbiMgw5Z2cmlnYSBkYXRhIGthbiBlbmtlbHQgdXR2aW5uYXMgbWhhIGdsb2JhbC50cmVlLmFyclxyXG5leHBvcnQgY2xhc3MgU3BhY2VkUmVwZXRpdGlvblxyXG5cclxuXHRjb25zdHJ1Y3RvciA6IChAcGF0aCkgLT5cclxuXHRcdEBtYXhpbXVtID0gWzEsMyw5LDI3LDgxXSAjIGNpcmthIDErMys5KzI3KzgxPT0xMjEga29ydCBpIHN5c3RlbWV0XHJcblx0XHRAYm94ZXMgPSBfLm1hcCBAbWF4aW11bSwgKGl0ZW0pIC0+IFtdXHJcblx0XHRAaW5kZXggPSAtMVxyXG5cclxuXHRsZW5ndGhzIDogPT4gXy5tYXAgQGJveGVzLCAoYm94KSA9PiBib3gubGVuZ3RoXHJcblxyXG5cdHBpY2sgOiA9PiAjIEjDpG10YXIgZXR0IGtvcnQgZnLDpW4gZGVuIGJveCBzb20gw6RyIHJlbGF0aXZ0IG1lc3QgZnlsbGQuXHJcblx0XHRyZXMgPSBfLm1hcCBAYm94ZXMsIChib3gsaSkgPT4gW2JveC5sZW5ndGgvQG1heGltdW1baV0sIGldXHJcblx0XHRyZXMuc29ydCgpXHJcblx0XHRAaW5kZXggPSBfLmxhc3QocmVzKVsxXVxyXG5cclxuXHRhZGQgOiAoY2FyZCkgPT4gQGJveGVzWzBdLnB1c2ggY2FyZFxyXG5cclxuXHRjdXJyZW50IDogPT4gIyByZXR1cm5lcmFyIG51dmFyYW5kZSBrb3J0LlxyXG5cdFx0aWYgQGluZGV4ID09IC0xIHRoZW4gbnVsbCBlbHNlIEBib3hlc1tAaW5kZXhdWzBdXHJcblxyXG5cdGNvcnJlY3QgOiA9PiAjIGZseXR0YXIga29ydGV0IHRpbGwgbsOkc3RhIGJveFxyXG5cdFx0aWYgQGluZGV4ID09IC0xIHRoZW4gcmV0dXJuXHJcblx0XHRjYXJkID0gQGJveGVzW0BpbmRleF0uc2hpZnQoKVxyXG5cdFx0aWYgQGluZGV4KzEgPCBAYm94ZXMubGVuZ3RoIHRoZW4gQGJveGVzW0BpbmRleCsxXS5wdXNoIGNhcmRcclxuXHRcdGVsc2UgY29uc29sZS5sb2cgY2FyZCwnIGlzIGRvbmUuJ1xyXG5cdFx0QGluZGV4ID0gLTFcclxuXHJcblx0d3JvbmcgOiA9PiAjIGZseXR0YXIga29ydGV0IHRpbGwgYm94IDBcclxuXHRcdGlmIEBpbmRleCA9PSAtMSB0aGVuIHJldHVyblxyXG5cdFx0Y2FyZCA9IEBib3hlc1tAaW5kZXhdLnNoaWZ0KClcclxuXHRcdEBib3hlc1swXS5wdXNoIGNhcmRcclxuXHRcdEBpbmRleCA9IC0xXHJcblxyXG5cdGxvYWQ6ID0+ICMgZnJvbSBsb2NhbFN0b3JhZ2VcclxuXHRzYXZlOiA9PiAjIHRvIGxvY2FsU3RvcmFnZVxyXG5cclxuI3NyID0gbmV3IFNwYWNlZFJlcGV0aXRpb24oKVxyXG4jIGzDpGdnIHRpbGwgZmxlciBrb3J0IG9jaCBwb3B1bGFyaXR5XHJcbiMgY2FyZDEgPSB7cTonZTJlNCcsIGE6WydlN2U1J119XHJcbiMgY2FyZDIgPSB7cTonZTJlNC5lN2U1JywgYTpbJ2cxZjMnXX1cclxuIyBjb25zb2xlLmxvZyBjYXJkMSxjYXJkMlxyXG4jIHNyLmFkZCBjYXJkMVxyXG4jIHNyLmFkZCBjYXJkMlxyXG4jIGFzcyBbMiwwLDAsMCwwXSwgc3IubGVuZ3RocygpXHJcbiNhc3MgY2FyZDEsc3IucGljaygpXHJcbiMgYXNzIFsyLDAsMCwwLDBdLCBzci5sZW5ndGhzKClcclxuI2FzcyAnZTJlNCBpcyBwZW5kaW5nJyxzci5waWNrKClcclxuXHJcbiMgc3IuY29ycmVjdCgpXHJcbiMgYXNzIFsxLDEsMCwwLDBdLCBzci5sZW5ndGhzKClcclxuIyBhc3MgLTEsIHNyLmluZGV4XHJcbiMgc3IuY29ycmVjdCgpXHJcbiMgYXNzIC0xLCBzci5pbmRleFxyXG4jIGFzcyBbMSwxLDAsMCwwXSwgc3IubGVuZ3RocygpXHJcblxyXG4jIGFzcyBjYXJkMixzci5waWNrKClcclxuIyBzci5jb3JyZWN0KClcclxuIyBhc3MgWzAsMiwwLDAsMF0sIHNyLmxlbmd0aHMoKVxyXG5cclxuI2FzcyBjYXJkMSxzci5waWNrKClcclxuIyBzci5jb3JyZWN0KClcclxuIyBhc3MgWzAsMSwxLDAsMF0sIHNyLmxlbmd0aHMoKVxyXG5cclxuI2FzcyBjYXJkMixzci5waWNrKClcclxuIyBzci5jb3JyZWN0KClcclxuIyBhc3MgWzAsMCwyLDAsMF0sIHNyLmxlbmd0aHMoKVxyXG5cclxuI2FzcyBjYXJkMSxzci5waWNrKClcclxuIyBzci5jb3JyZWN0KClcclxuIyBhc3MgWzAsMCwxLDEsMF0sIHNyLmxlbmd0aHMoKVxyXG5cclxuI2FzcyBjYXJkMixzci5waWNrKClcclxuIyBzci5jb3JyZWN0KClcclxuIyBhc3MgWzAsMCwwLDIsMF0sIHNyLmxlbmd0aHMoKVxyXG5cclxuIyBhc3MgY2FyZDEsc3IucGljaygpXHJcbiMgc3IuY29ycmVjdCgpXHJcbiMgYXNzIFswLDAsMCwxLDFdLCBzci5sZW5ndGhzKClcclxuXHJcbiMgYXNzIGNhcmQyLHNyLnBpY2soKVxyXG4jIHNyLmNvcnJlY3QoKVxyXG4jIGFzcyBbMCwwLDAsMCwyXSwgc3IubGVuZ3RocygpXHJcblxyXG4jIGFzcyBjYXJkMSxzci5waWNrKClcclxuIyBzci5jb3JyZWN0KClcclxuIyBhc3MgWzAsMCwwLDAsMV0sIHNyLmxlbmd0aHMoKVxyXG5cclxuIyBhc3MgY2FyZDIsc3IucGljaygpXHJcbiMgc3Iud3JvbmcoKVxyXG4jIGFzcyBbMSwwLDAsMCwwXSwgc3IubGVuZ3RocygpXHJcblxyXG4jIGZvciBpIGluIHJhbmdlIDRcclxuIyBcdHNyLnBpY2soKVxyXG4jIFx0c3IuY29ycmVjdCgpXHJcblxyXG4jIGFzcyBbMCwwLDAsMCwxXSwgc3IubGVuZ3RocygpXHJcbiMgc3IucGljaygpXHJcbiMgc3IuY29ycmVjdCgpXHJcbiMgYXNzIFswLDAsMCwwLDBdLCBzci5sZW5ndGhzKClcclxuIyBhc3MgXCJcIixzci5waWNrKClcclxuXHJcbiNsb2cgc3JcclxuXHJcbiMgYnJlYWR0aEZpcnN0U2VhcmNoID0gKHRyZWUsbGV2ZWwscmVzdWx0LHBhdGgpID0+XHJcbiMgXHRmb3Iga2V5LG5vZGUgb2YgdHJlZVxyXG4jIFx0XHRpZiBrZXkgIT0gXCJuXCJcclxuIyBcdFx0XHRwYXRoMSA9IHBhdGggKyBcIi5cIiArIGtleVxyXG4jIFx0XHRcdGlmIGxldmVsID09IDAgdGhlbiByZXN1bHQucHVzaCBwYXRoMVxyXG4jIFx0XHRcdGJyZWFkdGhGaXJzdFNlYXJjaCBub2RlLGxldmVsLTEscmVzdWx0LHBhdGgxXHJcblxyXG4jIHJlc3VsdCA9IFtdXHJcbiMgYnJlYWR0aEZpcnN0U2VhcmNoIHRyZWUsMSxyZXN1bHQsXCJcIlxyXG4jIGxvZyByZXN1bHRcclxuXHJcbiMgdHJhdmVyc2VCcmVhZHRoRmlyc3QgPSAodHJlZSwpID0+XHJcbiMgXHRyZXN1bHQgPSBbXVxyXG4jIFx0cXVldWUgPSBbXVxyXG4jIFx0cXVldWUucHVzaCB0cmVlXHJcbiMgXHR3aGlsZSBxdWV1ZS5sZW5ndGggPiAwXHJcbiMgXHRcdG5vZGUgPSBxdWV1ZS5zaGlmdCgpXHJcbiMgXHRcdGZvciBrZXksdmFsdWUgb2Ygbm9kZVxyXG4jIFx0XHRcdGlmIGtleSAhPSBcIm5cIlxyXG4jIFx0XHRcdFx0cXVldWUucHVzaCB2YWx1ZVxyXG4jIFx0XHRcdFx0cmVzdWx0LnB1c2gga2V5XHJcbiMgXHRyZXR1cm4gcmVzdWx0XHJcblxyXG4jIHRoaXMgZnVuY3Rpb24gcmV0dXJucyB0aGUgbmV4dCBub2RlIG9mIHRoZSB0cmVlLCBnaXZlbiB0aGUgY3VycmVudCBub2RlLCB1c2luZyBicmVhZHRoZmlyc3Qgc2VhcmNoXHJcbiNxdWV1ZSA9IFtdXHJcbiNwYXRocyA9IFtdXHJcbiMgZiA9ICh0cmVlLGxldmVsKSA9PlxyXG4jIFx0Y2hhcnMgPSA0KihsZXZlbCsxKSArIGxldmVsXHJcbiMgXHRxdWV1ZSA9IFt0cmVlXVxyXG4jIFx0cGF0aHMgPSBbXCJcIl1cclxuIyBcdGkgPSAwXHJcbiMgXHRwYXRoID0gJydcclxuIyBcdHdoaWxlIGkgPCBxdWV1ZS5sZW5ndGhcclxuIyBcdFx0bm9kZSA9IHF1ZXVlW2ldXHJcbiMgXHRcdHBhdGggPSBwYXRoc1tpXVxyXG4jIFx0XHRmb3Iga2V5IG9mIG5vZGVcclxuIyBcdFx0XHRpZiBrZXkgIT0gJ24nXHJcbiMgXHRcdFx0XHRpZiBwYXRoPT1cIlwiXHJcbiMgXHRcdFx0XHRcdHBhdGgxID0ga2V5XHJcbiMgXHRcdFx0XHRlbHNlXHJcbiMgXHRcdFx0XHRcdHBhdGgxID0gcGF0aCArICcuJyArIGtleVxyXG4jIFx0XHRcdFx0aWYgcGF0aDEubGVuZ3RoIDwgY2hhcnNcclxuIyBcdFx0XHRcdFx0cXVldWUucHVzaCBub2RlW2tleV1cclxuIyBcdFx0XHRcdFx0cGF0aHMucHVzaCBwYXRoMVxyXG4jIFx0XHRpKz0xXHJcbiMgXHRwYXRoc1xyXG5cclxuI2xvZyAnZicsZiB0cmVlLDFcclxuI2xvZyBwYXRoc1xyXG5cclxuIyBnZXROb2RlID0gKHRyZWUsa2V5cykgPT5cclxuIyBcdG5vZGUgPSB0cmVlXHJcbiMgXHRmb3Iga2V5IGluIGtleXNcclxuIyBcdFx0bm9kZSA9IG5vZGVba2V5XVxyXG4jIFx0bG9nICdnZXROb2RlJyxrZXlzLCBfLmtleXMgbm9kZVxyXG4jIFx0bm9kZVxyXG5cclxuIyBnID0gKHRyZWUscGF0aCkgPT4gZ2cgdHJlZSxwYXRoLnNwbGl0ICcuJ1xyXG5cclxuIyBnZyA9ICh0cmVlLGtleXMpID0+XHJcbiMgXHRsb2cgJ0EnLGtleXNcclxuIyBcdHBhdGggPSBrZXlzLmpvaW4gJy4nXHJcbiMgXHRsb2cgJ0InLHBhdGhcclxuIyBcdG5vZGUgPSBnZXROb2RlIHRyZWUsa2V5cy5zbGljZSAwLGtleXMubGVuZ3RoXHJcbiMgXHRsb2cgbm9kZVxyXG4jIFx0a2V5cyA9IGYgbm9kZSxrZXlzLmxlbmd0aCsxXHJcbiMgXHRsb2cgJ0MnXHJcbiMgXHRpbmRleCA9IGtleXMuaW5kZXhPZiBwYXRoXHJcbiMgXHRsb2cgJ0QnLGluZGV4XHJcbiMgXHRpZiBpbmRleCA9PSAtMVxyXG4jIFx0XHRyZXR1cm4gZ2cgdHJlZSwga2V5cy5zbGljZSAwLGtleXMubGVuZ3RoLTJcclxuIyBcdGVsc2VcclxuIyBcdFx0cmV0dXJuIGtleXNbaW5kZXgrMV1cclxuXHJcbiMgYXNzIFwiZDJkNFwiLCBnIHRyZWUsXCJcIlxyXG4jIG9rIGFzcyBcImUyZTRcIiwgZyB0cmVlLFwiZDJkNFwiXHJcbiMgb2sgYXNzIFwiZzFmM1wiLCBnIHRyZWUsXCJlMmU0XCJcclxuIyBvayBhc3MgXCJkMmQ0Lmc4ZjZcIiwgZyB0cmVlLFwiZzJnM1wiXHJcbiNhc3MgXCJkMmQ0LmI3YjUuZTJlNFwiLCBnIHRyZWUsXCJkMmQ0Lmc4ZjYuYzJjNFwiXHJcbiMgYXNzIFwiZTJlNC5jN2M1LmcxZjNcIiwgZyB0cmVlLFwiZDJkNC5iN2I1LmUyZTRcIlxyXG4jIGFzcyBcIlwiLCBnIHRyZWUsIFwiZDJkNC5nOGY2LmMyYzQuYzdjNS5kNGQ1LmU3ZTYuYjFjMy5lNmQ1LmM0ZDUuZzdnNi5nMWYzLmQ3ZDYuYzFmNC5mOGc3LmQxYTQuYzhkNy5hNGIzLmQ4YzcuZTJlNFwiXHJcbiJdfQ==
//# sourceURL=c:\github\2023-022-ChessOpenings-SpacedRepetition\coffee\spaced_repetition.coffee