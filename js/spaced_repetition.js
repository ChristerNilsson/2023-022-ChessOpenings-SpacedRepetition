// Generated by CoffeeScript 2.5.1
// Anki har fem boxar.
// Den första innehåller de nyaste uppgifterna.
// När man svarat rätt, flyttas kortet till nästa box.
// Efter femte boxen, tas kortet bort.
// När man svarar fel, flyttas kortet tillbaka till första boxen.
// Korten i varje box ligger i en kö.
// Varje låda har ett maxantal. Default: [5,10,20,40,80]
// Korten i högsta lådan ligger därmed längst i tid räknat.
var i, j, len, ref, sr;

import _ from 'https://cdn.skypack.dev/lodash';

import {
  ass,
  log,
  range
} from '../js/utils.js';

export var SpacedRepetition = class SpacedRepetition {
  constructor() {
    this.add = this.add.bind(this);
    this.correct = this.correct.bind(this);
    this.wrong = this.wrong.bind(this);
    // @root = ""
    // @latest = ""
    this.maximum = [5, 10, 20, 40, 80];
    this.boxes = _.map(this.maximum, function(item) {
      return [];
    });
    this.currIndex = -1;
  }

  lengths() {
    return _.map(this.boxes, (box) => {
      return box.length;
    });
  }

  // Hämtar från första box som är överfull.
  // Om ingen box är överfull, hämtas från första box som inte är tom.
  pick() {
    var box, i, j, k, len, len1, ref, ref1;
    if (this.currIndex !== -1) {
      return this.boxes[this.currIndex][0] + " is pending";
    }
    this.currIndex = -1;
    ref = range(this.boxes.length);
    for (j = 0, len = ref.length; j < len; j++) {
      i = ref[j];
      box = this.boxes[i];
      if (box.length >= this.maximum[box]) {
        this.currIndex = i;
        return this.boxes[this.currIndex][0];
      }
    }
    ref1 = range(this.boxes.length);
    for (k = 0, len1 = ref1.length; k < len1; k++) {
      i = ref1[k];
      box = this.boxes[i];
      if (box.length > 0) {
        this.currIndex = i;
        return this.boxes[this.currIndex][0];
      }
    }
    return "";
  }

  add(card) {
    return this.boxes[0].push(card);
  }

  correct() {
    var card;
    if (this.currIndex === -1) {
      return;
    }
    card = this.boxes[this.currIndex].shift();
    if (this.currIndex < this.boxes.length - 1) {
      this.boxes[this.currIndex + 1].push(card);
    }
    return this.currIndex = -1;
  }

  wrong() {
    var card;
    if (this.currIndex === -1) {
      return;
    }
    card = this.boxes[this.currIndex].shift();
    this.boxes[0].push(card);
    return this.currIndex = -1;
  }

  load() {}

  save() {}

};

sr = new SpacedRepetition();

sr.add('e2e4');

sr.add('e2e4.e7e5');

ass([2, 0, 0, 0, 0], sr.lengths());

ass('e2e4', sr.pick());

ass([2, 0, 0, 0, 0], sr.lengths());

ass('e2e4 is pending', sr.pick());

sr.correct();

ass([1, 1, 0, 0, 0], sr.lengths());

ass(-1, sr.currIndex);

sr.correct();

ass(-1, sr.currIndex);

ass([1, 1, 0, 0, 0], sr.lengths());

ass("e2e4.e7e5", sr.pick());

sr.correct();

ass([0, 2, 0, 0, 0], sr.lengths());

ass("e2e4", sr.pick());

sr.correct();

ass([0, 1, 1, 0, 0], sr.lengths());

ass("e2e4.e7e5", sr.pick());

sr.correct();

ass([0, 0, 2, 0, 0], sr.lengths());

ass("e2e4", sr.pick());

sr.correct();

ass([0, 0, 1, 1, 0], sr.lengths());

ass("e2e4.e7e5", sr.pick());

sr.correct();

ass([0, 0, 0, 2, 0], sr.lengths());

ass("e2e4", sr.pick());

sr.correct();

ass([0, 0, 0, 1, 1], sr.lengths());

ass("e2e4.e7e5", sr.pick());

sr.correct();

ass([0, 0, 0, 0, 2], sr.lengths());

ass("e2e4", sr.pick());

sr.correct();

ass([0, 0, 0, 0, 1], sr.lengths());

ass("e2e4.e7e5", sr.pick());

sr.wrong();

ass([1, 0, 0, 0, 0], sr.lengths());

ref = range(4);
for (j = 0, len = ref.length; j < len; j++) {
  i = ref[j];
  sr.pick();
  sr.correct();
}

ass([0, 0, 0, 0, 1], sr.lengths());

sr.pick();

sr.correct();

ass([0, 0, 0, 0, 0], sr.lengths());

ass("", sr.pick());

log(sr);

// breadthFirstSearch = (tree,level,result,path) =>
// 	for key,node of tree
// 		if key != "n"
// 			path1 = path + "." + key
// 			if level == 0 then result.push path1
// 			breadthFirstSearch node,level-1,result,path1

// result = []
// breadthFirstSearch tree,1,result,""
// log result

// traverseBreadthFirst = (tree,) =>
// 	result = []
// 	queue = []
// 	queue.push tree
// 	while queue.length > 0
// 		node = queue.shift()
// 		for key,value of node
// 			if key != "n"
// 				queue.push value
// 				result.push key
// 	return result

// this function returns the next node of the tree, given the current node, using breadthfirst search
//queue = []
//paths = []
// f = (tree,level) =>
// 	chars = 4*(level+1) + level
// 	queue = [tree]
// 	paths = [""]
// 	i = 0
// 	path = ''
// 	while i < queue.length
// 		node = queue[i]
// 		path = paths[i]
// 		for key of node
// 			if key != 'n'
// 				if path==""
// 					path1 = key
// 				else
// 					path1 = path + '.' + key
// 				if path1.length < chars
// 					queue.push node[key]
// 					paths.push path1
// 		i+=1
// 	paths

//log 'f',f tree,1
//log paths

// getNode = (tree,keys) =>
// 	node = tree
// 	for key in keys
// 		node = node[key]
// 	log 'getNode',keys, _.keys node
// 	node

// g = (tree,path) => gg tree,path.split '.'

// gg = (tree,keys) =>
// 	log 'A',keys
// 	path = keys.join '.'
// 	log 'B',path
// 	node = getNode tree,keys.slice 0,keys.length
// 	log node
// 	keys = f node,keys.length+1
// 	log 'C'
// 	index = keys.indexOf path
// 	log 'D',index
// 	if index == -1
// 		return gg tree, keys.slice 0,keys.length-2
// 	else
// 		return keys[index+1]

// ass "d2d4", g tree,""
// ok ass "e2e4", g tree,"d2d4"
// ok ass "g1f3", g tree,"e2e4"
// ok ass "d2d4.g8f6", g tree,"g2g3"
//ass "d2d4.b7b5.e2e4", g tree,"d2d4.g8f6.c2c4"
// ass "e2e4.c7c5.g1f3", g tree,"d2d4.b7b5.e2e4"
// ass "", g tree, "d2d4.g8f6.c2c4.c7c5.d4d5.e7e6.b1c3.e6d5.c4d5.g7g6.g1f3.d7d6.c1f4.f8g7.d1a4.c8d7.a4b3.d8c7.e2e4"

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic3BhY2VkX3JlcGV0aXRpb24uanMiLCJzb3VyY2VSb290IjoiLi4iLCJzb3VyY2VzIjpbImNvZmZlZVxcc3BhY2VkX3JlcGV0aXRpb24uY29mZmVlIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFPMEQ7Ozs7Ozs7O0FBQUEsSUFBQSxDQUFBLEVBQUEsQ0FBQSxFQUFBLEdBQUEsRUFBQSxHQUFBLEVBQUE7O0FBRTFELE9BQU8sQ0FBUCxNQUFBOztBQUNBLE9BQUE7RUFBUSxHQUFSO0VBQVksR0FBWjtFQUFnQixLQUFoQjtDQUFBLE1BQUE7O0FBRUEsT0FBQSxJQUFhLG1CQUFOLE1BQUEsaUJBQUE7RUFFTixXQUFjLENBQUEsQ0FBQTtRQTJCZCxDQUFBLFVBQUEsQ0FBQTtRQUVBLENBQUEsY0FBQSxDQUFBO1FBTUEsQ0FBQSxZQUFBLENBQUEsaUJBbENEOzs7SUFFRSxJQUFDLENBQUEsT0FBRCxHQUFXLENBQUMsQ0FBRCxFQUFHLEVBQUgsRUFBTSxFQUFOLEVBQVMsRUFBVCxFQUFZLEVBQVo7SUFDWCxJQUFDLENBQUEsS0FBRCxHQUFTLENBQUMsQ0FBQyxHQUFGLENBQU0sSUFBQyxDQUFBLE9BQVAsRUFBZ0IsUUFBQSxDQUFDLElBQUQsQ0FBQTthQUFVO0lBQVYsQ0FBaEI7SUFDVCxJQUFDLENBQUEsU0FBRCxHQUFhLENBQUM7RUFMRDs7RUFPZCxPQUFVLENBQUEsQ0FBQTtXQUFHLENBQUMsQ0FBQyxHQUFGLENBQU0sSUFBQyxDQUFBLEtBQVAsRUFBYyxDQUFDLEdBQUQsQ0FBQSxHQUFBO2FBQVMsR0FBRyxDQUFDO0lBQWIsQ0FBZDtFQUFILENBUFg7Ozs7RUFXQyxJQUFPLENBQUEsQ0FBQTtBQUNSLFFBQUEsR0FBQSxFQUFBLENBQUEsRUFBQSxDQUFBLEVBQUEsQ0FBQSxFQUFBLEdBQUEsRUFBQSxJQUFBLEVBQUEsR0FBQSxFQUFBO0lBQUUsSUFBRyxJQUFDLENBQUEsU0FBRCxLQUFjLENBQUMsQ0FBbEI7QUFDQyxhQUFPLElBQUMsQ0FBQSxLQUFLLENBQUMs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QUFFLENBQUMsT0FBSCxDQUFBLENBQWpCOztBQUVBO0FBQUEsS0FBQSxxQ0FBQTs7RUFDQyxFQUFFLENBQUMsSUFBSCxDQUFBO0VBQ0EsRUFBRSxDQUFDLE9BQUgsQ0FBQTtBQUZEOztBQUlBLEdBQUEsQ0FBSSxDQUFDLENBQUQsRUFBRyxDQUFILEVBQUssQ0FBTCxFQUFPLENBQVAsRUFBUyxDQUFULENBQUosRUFBaUIsRUFBRSxDQUFDLE9BQUgsQ0FBQSxDQUFqQjs7QUFDQSxFQUFFLENBQUMsSUFBSCxDQUFBOztBQUNBLEVBQUUsQ0FBQyxPQUFILENBQUE7O0FBQ0EsR0FBQSxDQUFJLENBQUMsQ0FBRCxFQUFHLENBQUgsRUFBSyxDQUFMLEVBQU8sQ0FBUCxFQUFTLENBQVQsQ0FBSixFQUFpQixFQUFFLENBQUMsT0FBSCxDQUFBLENBQWpCOztBQUNBLEdBQUEsQ0FBSSxFQUFKLEVBQU8sRUFBRSxDQUFDLElBQUgsQ0FBQSxDQUFQOztBQUVBLEdBQUEsQ0FBSSxFQUFKOztBQWpIMEQiLCJzb3VyY2VzQ29udGVudCI6WyIjIEFua2kgaGFyIGZlbSBib3hhci5cclxuIyBEZW4gZsO2cnN0YSBpbm5laMOlbGxlciBkZSBueWFzdGUgdXBwZ2lmdGVybmEuXHJcbiMgTsOkciBtYW4gc3ZhcmF0IHLDpHR0LCBmbHl0dGFzIGtvcnRldCB0aWxsIG7DpHN0YSBib3guXHJcbiMgRWZ0ZXIgZmVtdGUgYm94ZW4sIHRhcyBrb3J0ZXQgYm9ydC5cclxuIyBOw6RyIG1hbiBzdmFyYXIgZmVsLCBmbHl0dGFzIGtvcnRldCB0aWxsYmFrYSB0aWxsIGbDtnJzdGEgYm94ZW4uXHJcbiMgS29ydGVuIGkgdmFyamUgYm94IGxpZ2dlciBpIGVuIGvDti5cclxuIyBWYXJqZSBsw6VkYSBoYXIgZXR0IG1heGFudGFsLiBEZWZhdWx0OiBbNSwxMCwyMCw0MCw4MF1cclxuIyBLb3J0ZW4gaSBow7Znc3RhIGzDpWRhbiBsaWdnZXIgZMOkcm1lZCBsw6RuZ3N0IGkgdGlkIHLDpGtuYXQuXHJcblxyXG5pbXBvcnQgXyBmcm9tICdodHRwczovL2Nkbi5za3lwYWNrLmRldi9sb2Rhc2gnXHJcbmltcG9ydCB7YXNzLGxvZyxyYW5nZX0gZnJvbSAnLi4vanMvdXRpbHMuanMnXHJcblxyXG5leHBvcnQgY2xhc3MgU3BhY2VkUmVwZXRpdGlvblxyXG5cclxuXHRjb25zdHJ1Y3RvciA6ICgpIC0+XHJcblx0XHQjIEByb290ID0gXCJcIlxyXG5cdFx0IyBAbGF0ZXN0ID0gXCJcIlxyXG5cdFx0QG1heGltdW0gPSBbNSwxMCwyMCw0MCw4MF1cclxuXHRcdEBib3hlcyA9IF8ubWFwIEBtYXhpbXVtLCAoaXRlbSkgLT4gW11cclxuXHRcdEBjdXJySW5kZXggPSAtMVxyXG5cclxuXHRsZW5ndGhzIDogLT4gXy5tYXAgQGJveGVzLCAoYm94KSA9PiBib3gubGVuZ3RoXHJcblxyXG5cdCMgSMOkbXRhciBmcsOlbiBmw7Zyc3RhIGJveCBzb20gw6RyIMO2dmVyZnVsbC5cclxuXHQjIE9tIGluZ2VuIGJveCDDpHIgw7Z2ZXJmdWxsLCBow6RtdGFzIGZyw6VuIGbDtnJzdGEgYm94IHNvbSBpbnRlIMOkciB0b20uXHJcblx0cGljayA6IC0+XHJcblx0XHRpZiBAY3VyckluZGV4ICE9IC0xXHJcblx0XHRcdHJldHVybiBAYm94ZXNbQGN1cnJJbmRleF1bMF0gKyBcIiBpcyBwZW5kaW5nXCJcclxuXHRcdEBjdXJySW5kZXggPSAtMVxyXG5cdFx0Zm9yIGkgaW4gcmFuZ2UgQGJveGVzLmxlbmd0aFxyXG5cdFx0XHRib3ggPSBAYm94ZXNbaV1cclxuXHRcdFx0aWYgYm94Lmxlbmd0aCA+PSBAbWF4aW11bVtib3hdXHJcblx0XHRcdFx0QGN1cnJJbmRleCA9IGlcclxuXHRcdFx0XHRyZXR1cm4gQGJveGVzW0BjdXJySW5kZXhdWzBdXHJcblx0XHRmb3IgaSBpbiByYW5nZSBAYm94ZXMubGVuZ3RoXHJcblx0XHRcdGJveCA9IEBib3hlc1tpXVxyXG5cdFx0XHRpZiBib3gubGVuZ3RoID4gMFxyXG5cdFx0XHRcdEBjdXJySW5kZXggPSBpXHJcblx0XHRcdFx0cmV0dXJuIEBib3hlc1tAY3VyckluZGV4XVswXVxyXG5cdFx0XCJcIlxyXG5cclxuXHRhZGQgOiAoY2FyZCkgPT4gQGJveGVzWzBdLnB1c2ggY2FyZFxyXG5cclxuXHRjb3JyZWN0IDogPT5cclxuXHRcdGlmIEBjdXJySW5kZXggPT0gLTEgdGhlbiByZXR1cm5cclxuXHRcdGNhcmQgPSBAYm94ZXNbQGN1cnJJbmRleF0uc2hpZnQoKVxyXG5cdFx0aWYgQGN1cnJJbmRleCA8IEBib3hlcy5sZW5ndGgtMSB0aGVuIEBib3hlc1tAY3VyckluZGV4KzFdLnB1c2ggY2FyZFxyXG5cdFx0QGN1cnJJbmRleCA9IC0xXHJcblxyXG5cdHdyb25nIDogPT5cclxuXHRcdGlmIEBjdXJySW5kZXggPT0gLTEgdGhlbiByZXR1cm5cclxuXHRcdGNhcmQgPSBAYm94ZXNbQGN1cnJJbmRleF0uc2hpZnQoKVxyXG5cdFx0QGJveGVzWzBdLnB1c2ggY2FyZFxyXG5cdFx0QGN1cnJJbmRleCA9IC0xXHJcblxyXG5cdGxvYWQgOiAoKSAtPlxyXG5cclxuXHRzYXZlOigpLT5cclxuXHJcbnNyID0gbmV3IFNwYWNlZFJlcGV0aXRpb24oKVxyXG5zci5hZGQgJ2UyZTQnXHJcbnNyLmFkZCAnZTJlNC5lN2U1J1xyXG5hc3MgWzIsMCwwLDAsMF0sIHNyLmxlbmd0aHMoKVxyXG5hc3MgJ2UyZTQnLHNyLnBpY2soKVxyXG5hc3MgWzIsMCwwLDAsMF0sIHNyLmxlbmd0aHMoKVxyXG5hc3MgJ2UyZTQgaXMgcGVuZGluZycsc3IucGljaygpXHJcblxyXG5zci5jb3JyZWN0KClcclxuYXNzIFsxLDEsMCwwLDBdLCBzci5sZW5ndGhzKClcclxuYXNzIC0xLCBzci5jdXJySW5kZXhcclxuc3IuY29ycmVjdCgpXHJcbmFzcyAtMSwgc3IuY3VyckluZGV4XHJcbmFzcyBbMSwxLDAsMCwwXSwgc3IubGVuZ3RocygpXHJcblxyXG5hc3MgXCJlMmU0LmU3ZTVcIixzci5waWNrKClcclxuc3IuY29ycmVjdCgpXHJcbmFzcyBbMCwyLDAsMCwwXSwgc3IubGVuZ3RocygpXHJcblxyXG5hc3MgXCJlMmU0XCIsc3IucGljaygpXHJcbnNyLmNvcnJlY3QoKVxyXG5hc3MgWzAsMSwxLDAsMF0sIHNyLmxlbmd0aHMoKVxyXG5cclxuYXNzIFwiZTJlNC5lN2U1XCIsc3IucGljaygpXHJcbnNyLmNvcnJlY3QoKVxyXG5hc3MgWzAsMCwyLDAsMF0sIHNyLmxlbmd0aHMoKVxyXG5cclxuYXNzIFwiZTJlNFwiLHNyLnBpY2soKVxyXG5zci5jb3JyZWN0KClcclxuYXNzIFswLDAsMSwxLDBdLCBzci5sZW5ndGhzKClcclxuXHJcbmFzcyBcImUyZTQuZTdlNVwiLHNyLnBpY2soKVxyXG5zci5jb3JyZWN0KClcclxuYXNzIFswLDAsMCwyLDBdLCBzci5sZW5ndGhzKClcclxuXHJcbmFzcyBcImUyZTRcIixzci5waWNrKClcclxuc3IuY29ycmVjdCgpXHJcbmFzcyBbMCwwLDAsMSwxXSwgc3IubGVuZ3RocygpXHJcblxyXG5hc3MgXCJlMmU0LmU3ZTVcIixzci5waWNrKClcclxuc3IuY29ycmVjdCgpXHJcbmFzcyBbMCwwLDAsMCwyXSwgc3IubGVuZ3RocygpXHJcblxyXG5hc3MgXCJlMmU0XCIsc3IucGljaygpXHJcbnNyLmNvcnJlY3QoKVxyXG5hc3MgWzAsMCwwLDAsMV0sIHNyLmxlbmd0aHMoKVxyXG5cclxuYXNzIFwiZTJlNC5lN2U1XCIsc3IucGljaygpXHJcbnNyLndyb25nKClcclxuYXNzIFsxLDAsMCwwLDBdLCBzci5sZW5ndGhzKClcclxuXHJcbmZvciBpIGluIHJhbmdlIDRcclxuXHRzci5waWNrKClcclxuXHRzci5jb3JyZWN0KClcclxuXHJcbmFzcyBbMCwwLDAsMCwxXSwgc3IubGVuZ3RocygpXHJcbnNyLnBpY2soKVxyXG5zci5jb3JyZWN0KClcclxuYXNzIFswLDAsMCwwLDBdLCBzci5sZW5ndGhzKClcclxuYXNzIFwiXCIsc3IucGljaygpXHJcblxyXG5sb2cgc3JcclxuXHJcbiMgYnJlYWR0aEZpcnN0U2VhcmNoID0gKHRyZWUsbGV2ZWwscmVzdWx0LHBhdGgpID0+XHJcbiMgXHRmb3Iga2V5LG5vZGUgb2YgdHJlZVxyXG4jIFx0XHRpZiBrZXkgIT0gXCJuXCJcclxuIyBcdFx0XHRwYXRoMSA9IHBhdGggKyBcIi5cIiArIGtleVxyXG4jIFx0XHRcdGlmIGxldmVsID09IDAgdGhlbiByZXN1bHQucHVzaCBwYXRoMVxyXG4jIFx0XHRcdGJyZWFkdGhGaXJzdFNlYXJjaCBub2RlLGxldmVsLTEscmVzdWx0LHBhdGgxXHJcblxyXG4jIHJlc3VsdCA9IFtdXHJcbiMgYnJlYWR0aEZpcnN0U2VhcmNoIHRyZWUsMSxyZXN1bHQsXCJcIlxyXG4jIGxvZyByZXN1bHRcclxuXHJcbiMgdHJhdmVyc2VCcmVhZHRoRmlyc3QgPSAodHJlZSwpID0+XHJcbiMgXHRyZXN1bHQgPSBbXVxyXG4jIFx0cXVldWUgPSBbXVxyXG4jIFx0cXVldWUucHVzaCB0cmVlXHJcbiMgXHR3aGlsZSBxdWV1ZS5sZW5ndGggPiAwXHJcbiMgXHRcdG5vZGUgPSBxdWV1ZS5zaGlmdCgpXHJcbiMgXHRcdGZvciBrZXksdmFsdWUgb2Ygbm9kZVxyXG4jIFx0XHRcdGlmIGtleSAhPSBcIm5cIlxyXG4jIFx0XHRcdFx0cXVldWUucHVzaCB2YWx1ZVxyXG4jIFx0XHRcdFx0cmVzdWx0LnB1c2gga2V5XHJcbiMgXHRyZXR1cm4gcmVzdWx0XHJcblxyXG4jIHRoaXMgZnVuY3Rpb24gcmV0dXJucyB0aGUgbmV4dCBub2RlIG9mIHRoZSB0cmVlLCBnaXZlbiB0aGUgY3VycmVudCBub2RlLCB1c2luZyBicmVhZHRoZmlyc3Qgc2VhcmNoXHJcbiNxdWV1ZSA9IFtdXHJcbiNwYXRocyA9IFtdXHJcbiMgZiA9ICh0cmVlLGxldmVsKSA9PlxyXG4jIFx0Y2hhcnMgPSA0KihsZXZlbCsxKSArIGxldmVsXHJcbiMgXHRxdWV1ZSA9IFt0cmVlXVxyXG4jIFx0cGF0aHMgPSBbXCJcIl1cclxuIyBcdGkgPSAwXHJcbiMgXHRwYXRoID0gJydcclxuIyBcdHdoaWxlIGkgPCBxdWV1ZS5sZW5ndGhcclxuIyBcdFx0bm9kZSA9IHF1ZXVlW2ldXHJcbiMgXHRcdHBhdGggPSBwYXRoc1tpXVxyXG4jIFx0XHRmb3Iga2V5IG9mIG5vZGVcclxuIyBcdFx0XHRpZiBrZXkgIT0gJ24nXHJcbiMgXHRcdFx0XHRpZiBwYXRoPT1cIlwiXHJcbiMgXHRcdFx0XHRcdHBhdGgxID0ga2V5XHJcbiMgXHRcdFx0XHRlbHNlXHJcbiMgXHRcdFx0XHRcdHBhdGgxID0gcGF0aCArICcuJyArIGtleVxyXG4jIFx0XHRcdFx0aWYgcGF0aDEubGVuZ3RoIDwgY2hhcnNcclxuIyBcdFx0XHRcdFx0cXVldWUucHVzaCBub2RlW2tleV1cclxuIyBcdFx0XHRcdFx0cGF0aHMucHVzaCBwYXRoMVxyXG4jIFx0XHRpKz0xXHJcbiMgXHRwYXRoc1xyXG5cclxuI2xvZyAnZicsZiB0cmVlLDFcclxuI2xvZyBwYXRoc1xyXG5cclxuIyBnZXROb2RlID0gKHRyZWUsa2V5cykgPT5cclxuIyBcdG5vZGUgPSB0cmVlXHJcbiMgXHRmb3Iga2V5IGluIGtleXNcclxuIyBcdFx0bm9kZSA9IG5vZGVba2V5XVxyXG4jIFx0bG9nICdnZXROb2RlJyxrZXlzLCBfLmtleXMgbm9kZVxyXG4jIFx0bm9kZVxyXG5cclxuIyBnID0gKHRyZWUscGF0aCkgPT4gZ2cgdHJlZSxwYXRoLnNwbGl0ICcuJ1xyXG5cclxuIyBnZyA9ICh0cmVlLGtleXMpID0+XHJcbiMgXHRsb2cgJ0EnLGtleXNcclxuIyBcdHBhdGggPSBrZXlzLmpvaW4gJy4nXHJcbiMgXHRsb2cgJ0InLHBhdGhcclxuIyBcdG5vZGUgPSBnZXROb2RlIHRyZWUsa2V5cy5zbGljZSAwLGtleXMubGVuZ3RoXHJcbiMgXHRsb2cgbm9kZVxyXG4jIFx0a2V5cyA9IGYgbm9kZSxrZXlzLmxlbmd0aCsxXHJcbiMgXHRsb2cgJ0MnXHJcbiMgXHRpbmRleCA9IGtleXMuaW5kZXhPZiBwYXRoXHJcbiMgXHRsb2cgJ0QnLGluZGV4XHJcbiMgXHRpZiBpbmRleCA9PSAtMVxyXG4jIFx0XHRyZXR1cm4gZ2cgdHJlZSwga2V5cy5zbGljZSAwLGtleXMubGVuZ3RoLTJcclxuIyBcdGVsc2VcclxuIyBcdFx0cmV0dXJuIGtleXNbaW5kZXgrMV1cclxuXHJcbiMgYXNzIFwiZDJkNFwiLCBnIHRyZWUsXCJcIlxyXG4jIG9rIGFzcyBcImUyZTRcIiwgZyB0cmVlLFwiZDJkNFwiXHJcbiMgb2sgYXNzIFwiZzFmM1wiLCBnIHRyZWUsXCJlMmU0XCJcclxuIyBvayBhc3MgXCJkMmQ0Lmc4ZjZcIiwgZyB0cmVlLFwiZzJnM1wiXHJcbiNhc3MgXCJkMmQ0LmI3YjUuZTJlNFwiLCBnIHRyZWUsXCJkMmQ0Lmc4ZjYuYzJjNFwiXHJcbiMgYXNzIFwiZTJlNC5jN2M1LmcxZjNcIiwgZyB0cmVlLFwiZDJkNC5iN2I1LmUyZTRcIlxyXG4jIGFzcyBcIlwiLCBnIHRyZWUsIFwiZDJkNC5nOGY2LmMyYzQuYzdjNS5kNGQ1LmU3ZTYuYjFjMy5lNmQ1LmM0ZDUuZzdnNi5nMWYzLmQ3ZDYuYzFmNC5mOGc3LmQxYTQuYzhkNy5hNGIzLmQ4YzcuZTJlNFwiXHJcbiJdfQ==
//# sourceURL=c:\github\2023-022-ChessOpenings-SpacedRepetition\coffee\spaced_repetition.coffee